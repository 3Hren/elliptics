elliptics (2.9.3.13) unstable; urgency=low

  * Remove empty/broken history objects during merge.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 09 Nov 2010 15:20:40 +0300

elliptics (2.9.3.12) unstable; urgency=low

  * Added more debug about processed objects in fsck tools.
  * Delete directly read object if its history can not be mapped.
  * Return error from dnet_merge_direct() when merge falls back to direct
    merge during common merge.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 09 Nov 2010 14:46:48 +0300

elliptics (2.9.3.11) unstable; urgency=low

  * Attempt to do direct merge when we can not parse non-direct history stored
    in main storage.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Sat, 06 Nov 2010 18:59:11 +0300

elliptics (2.9.3.10) unstable; urgency=low

  * Fixed bit directory generation in file_backend_get_dir_bits()

 -- Evgeniy Polyakov <zbr@ioremap.net>  Sat, 06 Nov 2010 18:03:00 +0300

elliptics (2.9.3.9) unstable; urgency=low

  * Fixed state leak in lookup processing.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 21 Oct 2010 20:47:59 +0400

elliptics (2.9.3.8) unstable; urgency=low

  * Always use local address for succeeded local lookup.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 21 Oct 2010 20:06:00 +0400

elliptics (2.9.3.7) unstable; urgency=low

  * Kill state when check thread got error.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 21 Oct 2010 18:24:45 +0400

elliptics (2.9.3.6) unstable; urgency=low

  * Extended fire time debug.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 21 Oct 2010 18:09:08 +0400

elliptics (2.9.3.5) unstable; urgency=low

  * Update transaction fire time to include check timeout.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 21 Oct 2010 17:06:13 +0400

elliptics (2.9.3.4) unstable; urgency=low

  * Extend dnet_send_read_data() to get offset from parameters and do not
    abuse dnet_io_attr structure.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Wed, 20 Oct 2010 18:34:25 +0400

elliptics (2.9.3.3) unstable; urgency=low

  * Unmap history after selecting transaction with the last update time in
    dnet_merge_get_latest_transactions()

 -- Evgeniy Polyakov <zbr@ioremap.net>  Wed, 20 Oct 2010 18:06:08 +0400

elliptics (2.9.3.2) unstable; urgency=low

  * Added full object ID dump and request error.
  * Exit merge early if no id file was provided.
  * Do not dereference state in dnet_read_complete() if it is NULL.
  * Added -N (do not request ids and use prevously downloaded) option comment
    into fsck help.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Mon, 18 Oct 2010 19:27:55 +0400

elliptics (2.9.3.1) unstable; urgency=low

  * Extended alloc/free debug.
  * Allow zero-sized writes.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Mon, 18 Oct 2010 13:29:32 +0400

elliptics (2.9.3) unstable; urgency=low

  * New minor release.
    No changes from 2.9.2.32.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Wed, 13 Oct 2010 16:01:23 +0400

elliptics (2.9.2.32) unstable; urgency=low

  * Added configurable value to check header for remote node IP address.
  * Added joining client check: returned address must be reachable to be
    inserted into route table.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Mon, 11 Oct 2010 16:43:56 +0400

elliptics (2.9.2.31) unstable; urgency=low

  * Fixed LA sorting.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 08 Oct 2010 19:18:27 +0400

elliptics (2.9.2.30) unstable; urgency=low

  * Added LA check debug.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 08 Oct 2010 19:14:05 +0400

elliptics (2.9.2.29) unstable; urgency=low

  * Added id-by-LA generation and sorting.
  * Debug cleanups.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Wed, 06 Oct 2010 22:38:39 +0400

elliptics (2.9.2.28) unstable; urgency=low

  * Added timed statistics request which also works as timed connection
    checker.
  * Added seconds-only check time wait.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Wed, 06 Oct 2010 20:51:45 +0400

elliptics (2.9.2.27) unstable; urgency=low

  * Added keep-alive options.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Wed, 06 Oct 2010 16:24:33 +0400

elliptics (2.9.2.26) unstable; urgency=low

  * Do not log error when state is NULL in stat completion callback.
  * Unlink transaction and history after direct merge.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Mon, 04 Oct 2010 18:16:49 +0400

elliptics (2.9.2.25) unstable; urgency=low

  * Added norequest flag to fsck util (will use existing file).
  * Fixed remotes processing typo.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Sat, 02 Oct 2010 20:39:48 +0400

elliptics (2.9.2.24) unstable; urgency=low

  * Do not traverse the whole transaction tree after we found the first one
    which fire time has not yet elapsed.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 30 Sep 2010 18:57:22 +0400

elliptics (2.9.2.23) unstable; urgency=low

  * Remove io_thread_num and max_pending config parameters.
  * Added stack size parameter to check tools.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 30 Sep 2010 17:29:54 +0400

elliptics (2.9.2.22) unstable; urgency=low

  * Moved transaction debug output into the place where it can not dereference
    stale data.
  * Debug cleanups.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Mon, 20 Sep 2010 20:20:31 +0400

elliptics (2.9.2.21) unstable; urgency=low

  * Do not dereference null state in dnet_fcgi_read_complete.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Mon, 20 Sep 2010 18:19:05 +0400

elliptics (2.9.2.20) unstable; urgency=low

  * Added thread stack size parameter.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 17 Sep 2010 22:27:05 +0400

elliptics (2.9.2.19) unstable; urgency=low

  * Added malloc mmap threshold config parameter.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 17 Sep 2010 19:49:35 +0400

elliptics (2.9.2.18) unstable; urgency=low

  * Really really fixed recv state transaction processing leak.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 17 Sep 2010 04:40:10 +0400

elliptics (2.9.2.17) unstable; urgency=low

  * Really fixed recv state transaction processing leak.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 17 Sep 2010 04:28:32 +0400

elliptics (2.9.2.16) unstable; urgency=low

  * Do not try to dereferece null state. Happens when transaction is completed
    on timeout.
  * Use lineary (+60 seconds each turn) growing reconnection timeout. Added
    reconnection limit of 1 day.
  * Fixed recv state transaction processing leak.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 17 Sep 2010 04:04:30 +0400

elliptics (2.9.2.15) unstable; urgency=low

  * Compilation typo fixed.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 17 Sep 2010 00:15:18 +0400

elliptics (2.9.2.14) unstable; urgency=low

  * Fill all allocated memory with zeroes.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 17 Sep 2010 00:08:18 +0400

elliptics (2.9.2.13) unstable; urgency=low

  * Put transaction after it was executed. Its refcnt was increased during
    search call.
  * Do not try to dereference state when it can be null.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 16 Sep 2010 20:55:09 +0400

elliptics (2.9.2.12) unstable; urgency=low

  * Do not create unneded listening state when node does not join network.
  * Reset accept state on error.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 07 Sep 2010 23:24:12 +0400

elliptics (2.9.2.11) unstable; urgency=low

  * Do not join to states in state lists, since they can be freed in own
    threads.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 07 Sep 2010 22:48:26 +0400

elliptics (2.9.2.10) unstable; urgency=low

  * Drop transaction resending support.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 07 Sep 2010 22:21:21 +0400

elliptics (2.9.2.9) unstable; urgency=low

  * Extended local command processing log.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 07 Sep 2010 18:04:09 +0400

elliptics (2.9.2.8) unstable; urgency=low

  * Also print pid in common logger.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 07 Sep 2010 17:37:59 +0400

elliptics (2.9.2.7) unstable; urgency=low

  * Use pthread_self() instead of getpid() to get uniq thread id.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 07 Sep 2010 17:33:59 +0400

elliptics (2.9.2.6) unstable; urgency=low

  * If DNET_IO_FLAGS_NO_HISTORY_UPDATE flag was set for read command, do not
    send data reply. Used in local stat command.
  * Debug cleanup.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 07 Sep 2010 04:17:45 +0400

elliptics (2.9.2.5) unstable; urgency=low

  * Do not deal with NULL transactions.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 07 Sep 2010 03:51:20 +0400

elliptics (2.9.2.4) unstable; urgency=low

  * Extended debug.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 07 Sep 2010 03:24:04 +0400

elliptics (2.9.2.3) unstable; urgency=low

  * Start state IO thread after state initialization.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 07 Sep 2010 02:44:45 +0400

elliptics (2.9.2.2) unstable; urgency=low

  * Join to io state thread instead of freeing it directly.
  * Do not exit from accept loop on error.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 07 Sep 2010 02:31:23 +0400

elliptics (2.9.2.1) unstable; urgency=low

  * Initialize state list entry prior other usage.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 07 Sep 2010 01:59:48 +0400

elliptics (2.9.2) unstable; urgency=low

  * Switched from libevent state machine to thread-per-client model.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 07 Sep 2010 01:38:31 +0400

elliptics (2.9.1.3) unstable; urgency=low

  * Added timeout to wait for transction completion.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 02 Sep 2010 18:37:43 +0400

elliptics (2.9.1.2) unstable; urgency=low

  * Added special URI parameter for atomic appends (where supported by
    backend). Added ioflags to common write operations.
  * Dropped TokyoCabinet IO backend support.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 17 Aug 2010 20:36:09 +0400

elliptics (2.9.1.1) unstable; urgency=low

  * Added DNET_FCGI_PUT_REGION config option to optionally enable region tag
  * Added wildcard direct download pattern (*)
  * Force direct download patterns to be checked against ID ending and
    just by having this substring somewhere in the query.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 13 Aug 2010 16:05:12 +0400

elliptics (2.9.1) unstable; urgency=low

  * New elliptics network release: 2.9.1

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 10 Aug 2010 23:06:25 +0400

elliptics (2.9.0.31) unstable; urgency=low

  * Logger cleanups.
  * Fixed resend locking bug.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 10 Aug 2010 15:43:37 +0400

elliptics (2.9.0.30) unstable; urgency=low

  * Fixed lock/unlock typo in dnet_data_ready().

 -- Evgeniy Polyakov <zbr@ioremap.net>  Mon, 09 Aug 2010 19:00:56 +0400

elliptics (2.9.0.29) unstable; urgency=low

  * Refactor fcgi logging.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Sat, 07 Aug 2010 00:52:37 +0400

elliptics (2.9.0.28) unstable; urgency=low

  * Return read error when key was not found. Use right config file options.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Sat, 07 Aug 2010 00:16:25 +0400

elliptics (2.9.0.27) unstable; urgency=low

  * Added sanity checks for embedded reading.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 06 Aug 2010 22:01:20 +0400

elliptics (2.9.0.26) unstable; urgency=low

  * Disabled per-client statistics request in fcgi daemon.
  * Added subtle timeout and data rewrite when FCGX_PutStr() returns error.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 06 Aug 2010 19:51:48 +0400

elliptics (2.9.0.25) unstable; urgency=low

  * Copy resolved address into buffer (later used for reconnection) before
    trying to connect.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 05 Aug 2010 21:12:57 +0400

elliptics (2.9.0.24) unstable; urgency=low

  * Refactor fcgi/check loggers to write pid/thread id into single log file.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 05 Aug 2010 20:13:50 +0400

elliptics (2.9.0.23) unstable; urgency=low

  * Added <region> tag into download-info XML output
  * Shanged sending locking.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 05 Aug 2010 18:50:56 +0400

elliptics (2.9.0.22) unstable; urgency=low

  * Guard multiple 'logical' xml writes against parallel write

 -- Evgeniy Polyakov <zbr@ioremap.net>  Wed, 04 Aug 2010 22:05:46 +0400

elliptics (2.9.0.21) unstable; urgency=low

  * Implemented direct transaction merge.
  * If reading size was set to 0 map ~0ULL size, i.e. the whole file.
  * Remove object from the storage if its history log says so.
  * Drop unused DNET_FCGI_EMBED_TIMESTAMP_PATTERN and change to use
    DNET_FCGI_EMBED_PATTERN option.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Wed, 04 Aug 2010 21:23:10 +0400

elliptics (2.9.0.20) unstable; urgency=low

  * Fixed several fd leaks.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Wed, 28 Jul 2010 21:51:29 +0400

elliptics (2.9.0.19) unstable; urgency=low

  * Unmap history file when failed to read transaction.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Wed, 28 Jul 2010 20:37:21 +0400

elliptics (2.9.0.18) unstable; urgency=low

  * Guard OpenSSL_add_all_digests() and initialize it only once per thread
    group.
  * Force dnet_check_process_request() to wait for all sent transactions, do
    not wakeup after receiving reply from the first one.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Wed, 28 Jul 2010 18:42:44 +0400

elliptics (2.9.0.17) unstable; urgency=low

  * Fixed compilation warnings on 64bit platform (uint64_t to unsigned long
    long and void * to unsigned long)
  * Try only requested transformation function, do not continue with the next
    one.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Wed, 28 Jul 2010 17:40:46 +0400

elliptics (2.9.0.16) unstable; urgency=low

  * Use errno to differentiate reconnection state.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Wed, 28 Jul 2010 16:36:58 +0400

elliptics (2.9.0.15) unstable; urgency=low

  * Made elliptics depend on eblob

 -- Evgeniy Polyakov <zbr@ioremap.net>  Wed, 28 Jul 2010 14:40:34 +0400

elliptics (2.9.0.14) unstable; urgency=low

  * Updated checker's logger.
  * Increase example/check/common.c waiting timeout.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 27 Jul 2010 21:25:04 +0400

elliptics (2.9.0.13) unstable; urgency=low

  * Added logs into file io backend listing processor.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 27 Jul 2010 21:00:45 +0400

elliptics (2.9.0.12) unstable; urgency=low

  * Let check applications to sleep longer waiting for replies.
  * Reduce number of ids sent via DNET_CMD_LIST command to 1024 per reply.
  * Mark states added via dnet_add_state() as reconnect-friendly.
  * Do not add reconnection addresses which do not have joining flags.
  * Updated to the latest eblob lib (moved blob code outside to libeblob).
  * Reschedule transaction's fire time when (non-last) reply is received.
  * Do not mess with dnet_fcgi_random_hashes outside of fcgi.c

 -- Evgeniy Polyakov <zbr@ioremap.net>  Mon, 26 Jul 2010 23:26:14 +0400

elliptics (2.9.0.11) unstable; urgency=low

  * Added embedded URI parameter, which will force timestamp to be embedded
    with data. It is possible to embed other parameters too.

    post: wget -O /tmp/1111 -S --post-file=elliptics.spec
    "http://devfs1/test.mp3?name=qwerty.xml&embed&timestamp=123"

    get: wget -O /tmp/1111 -S --header="If-Modified-Since: Thu, 01 Jan 1970
    00:02:00 GMT"  "http://devfs1/test.mp3?name=qwerty.xml&embed&direct=1"
  * fixed random hash selection in fcgi frontend.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Sun, 25 Jul 2010 20:09:20 +0400

elliptics (2.9.0.10) unstable; urgency=low

  * return back addressing magic^W logic in dnet_write_object_raw()

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 23 Jul 2010 12:04:11 +0400

elliptics (2.9.0.9) unstable; urgency=low

  * Return back virtual datacenters.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 22 Jul 2010 22:17:08 +0400

elliptics (2.9.0.8) unstable; urgency=low

  * BLOB IO backend updates (multiple threads, index, bug fixes).
  * file IO backend fixes
  * python bindings
  * c++ binding fixes

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 22 Jul 2010 18:11:17 +0400

elliptics (2.9.0.7) unstable; urgency=low

  * Log cleanups.
  * Extended ioclient's stat parameters.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 16 Jul 2010 20:08:05 +0400

elliptics (2.9.0.6) unstable; urgency=low

  * Added c++ interface.
  * Added fsck flag which allows to reupload existing copies.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 16 Jul 2010 18:17:06 +0400

elliptics (2.9.0.5) unstable; urgency=low

  * Added data/history indexes.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 15 Jul 2010 00:20:50 +0400

elliptics (2.9.0.4) unstable; urgency=low

  * Allow dnet_ioclient to request stats.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 06 Jul 2010 21:57:54 +0400

elliptics (2.9.0.3) unstable; urgency=low

  * Do not iterate over empty file.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 06 Jul 2010 21:37:50 +0400

elliptics (2.9.0.2) unstable; urgency=low

  * Initial POSIX fadvice hints.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 06 Jul 2010 18:22:11 +0400

elliptics (2.9.0.1) unstable; urgency=low

  * Added BLOB IO backend. Without abilities to remove objects though.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 06 Jul 2010 04:58:44 +0400

elliptics (2.9.0) unstable; urgency=low

  * switched ioserv from command line to config
  * created ioclient which does command line IO operations

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 01 Jul 2010 22:22:26 +0400

elliptics (2.8.1) unstable; urgency=low

  * Autoconf update to rollout new release, which contains previous fixes.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 22 Jun 2010 02:06:16 +0400

elliptics (2.8.0.2) unstable; urgency=low

  * Debug cleanups.
  * Fsck utils fixes.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 03 Jun 2010 18:59:45 +0400

elliptics (2.8.0.1) unstable; urgency=low

  * Debug extensions in fsck and meta processing.
  * Fixed fsck log file closing bug.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 03 Jun 2010 00:59:05 +0400

elliptics (2.8.0) unstable; urgency=low

  * Switched to new optimized history format, which contains metadata.
    History becomes just another metadata object with parent name
    and list of transformation functions.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Sat, 29 May 2010 20:46:43 +0400

elliptics (2.7.5.3) unstable; urgency=low

  * Added extended per-client per-cmd statistics.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 18 May 2010 16:41:56 +0400

elliptics (2.7.5.2) unstable; urgency=low

  * Extend fcgi debug logging.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Wed, 12 May 2010 03:40:39 +0400

elliptics (2.7.5.1) unstable; urgency=low

  * Added timestamp URI parameter support in fcgi frontend (timestamp=).

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 11 May 2010 21:02:03 +0400

elliptics (2.7.5) unstable; urgency=low

  * Make simple stat request to check only number of connected nodes without
    check them.
  * Added check applications README.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 11 May 2010 20:15:50 +0400

elliptics (2.7.4.2) unstable; urgency=low

  * Drop DNET_HISTORY_FLAGS and use DNET_IO_FLAGS instead.
  * Extend hparser to show 'removed' flag.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 11 May 2010 17:49:44 +0400

elliptics (2.7.4.1) unstable; urgency=low

  * history parser extension.
  * ID conversion fixes.
  * move version information to ID end

 -- Evgeniy Polyakov <zbr@ioremap.net>  Mon, 10 May 2010 18:40:16 +0400

elliptics (2.7.4) unstable; urgency=low

  * Added automatic recovery support.
  * Fair number of changes.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Mon, 10 May 2010 05:03:39 +0400

elliptics (2.7.3.4) unstable; urgency=low

  * Added if-modified-since header processing.
  * Relax libevent build dependency

 -- Evgeniy Polyakov <zbr@ioremap.net>  Wed, 28 Apr 2010 18:14:16 +0400

elliptics (2.7.3.3) unstable; urgency=low

  * History merge support.
  * Do not unlink files, instead put a special transaction into related
    history log.
  * Added version support in HTTP frontend.
  * Added Last-Modified header support in HTTP frontend.
  * Added upload connections limit, which does not allow to post data when
    number of nodes proxy is connected to is less than configured param.
  * API extensions.
  * Bug fixes.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 23 Apr 2010 03:23:49 +0400

elliptics (2.7.3.2) unstable; urgency=low

  * Debian version update after multiple fixes: 2.7.3.2

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 25 Mar 2010 23:35:09 +0300

elliptics (2.7.3.1) unstable; urgency=low

  * Added random hash selection itno fastcgi daemon.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 19 Mar 2010 19:47:45 +0300

elliptics (2.7.3) unstable; urgency=low

  * Turn on dh_makeshlibs debian rule.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Wed, 17 Mar 2010 20:59:14 +0300

elliptics (2.7.2) unstable; urgency=low

  * Depend on libevent 1.4 and higher.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Wed, 17 Mar 2010 19:12:55 +0300

elliptics (2.7.1) unstable; urgency=low

  * Minor compilation issues fixed.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Wed, 17 Mar 2010 17:28:08 +0300

elliptics (2.7.0) unstable; urgency=low

  * Major version update: 2.7.0

 -- Evgeniy Polyakov <zbr@ioremap.net>  Wed, 17 Mar 2010 16:41:29 +0300

elliptics (2.6.4.8) unstable; urgency=low

  * Return 404 POST status when number of upload errors is more than
    configured number (0 by default).

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 05 Mar 2010 20:05:14 +0300

elliptics (2.6.4.7) unstable; urgency=low

  * Initialize transaction number to zero prior starting write.
  * Remove unneded hash checks

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 19 Feb 2010 22:03:56 +0300

elliptics (2.6.4.6) unstable; urgency=low

  * Do not compare checker's hash strings, initialize hashes again,
    since we already dropped them all.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 19 Feb 2010 21:31:48 +0300

elliptics (2.6.4.5) unstable; urgency=low

  * Request remote route table when node adds remote address.

 -- Evgeniy Polyakov <zbr@gavana>  Fri, 19 Feb 2010 19:50:03 +0300

elliptics (2.6.4.4) unstable; urgency=low

  * Fixed multiple log lines processing in checker.

 -- Evgeniy Polyakov <zbr@gavana>  Fri, 19 Feb 2010 17:38:50 +0300

elliptics (2.6.4.3) unstable; urgency=low

  * Minor cleanups.

 -- Evgeniy Polyakov <zbr@gavana>  Thu, 18 Feb 2010 00:58:54 +0300

elliptics (2.6.4.2) unstable; urgency=low

  * Implemented full fsck checker.

 -- Evgeniy Polyakov <zbr@gavana>  Thu, 18 Feb 2010 00:20:08 +0300

elliptics (2.6.4.1) unstable; urgency=low

  * Update dnet_fcgi_timeout_sec from DNET_FCGI_NODE_WAIT_TIMEOUT config
    option.
  * Added fcgi request completion flag. When it is not set, fcgi request
    can not be used, usually because it was already closed. This is a
    weak protection since data from one request can be sent to another
    client, but it will only happen when we exit early on timeout, which
    should be noticed in logs, and timeouts changed appropriately.

 -- Evgeniy Polyakov <zbr@gavana>  Wed, 17 Feb 2010 17:40:17 +0300

elliptics (2.6.4) unstable; urgency=low

  * Version 2.6.4

 -- Evgeniy Polyakov <zbr@gavana>  Sun, 14 Feb 2010 19:54:47 +0300

elliptics (2.6.3-42) unstable; urgency=low

  * Made wakeup a macros which accepts code executed atomically under
    wait lock. This fixes race in statistics request when multiple
    thread update completion counter.

 -- Evgeniy Polyakov <zbr@gavana>  Sat, 13 Feb 2010 18:58:35 +0300

elliptics (2.6.3-41) unstable; urgency=low

  * Added dbg package option.

 -- Evgeniy Polyakov <zbr@gavana>  Thu, 11 Feb 2010 18:41:14 +0300

elliptics (2.6.3-40) unstable; urgency=low

  * Added timeouts into FCGI waits

 -- Evgeniy Polyakov <zbr@gavana>  Thu, 11 Feb 2010 14:54:54 +0300

elliptics (2.6.3-39) unstable; urgency=low

  * Check if state was already added when reconnection establishes
    connection, but can not create state.

 -- Evgeniy Polyakov <zbr@gavana>  Thu, 11 Feb 2010 14:28:04 +0300

elliptics (2.6.3-38) unstable; urgency=low

  * Implemented ability to dump address or ID into provided buffer, use
    it in race-critical places in fcgi. Core code will suffer from
    simultaneous addres/id conversions though, but it is not used in
    critical parts.

 -- Evgeniy Polyakov <zbr@gavana>  Tue, 09 Feb 2010 20:48:13 +0300

elliptics (2.6.3-37) unstable; urgency=low

  * Perform vsnprintf() parsing unside locked section to protect
    dnet_fcgi_tmp_buf content.

 -- Evgeniy Polyakov <zbr@gavana>  Tue, 09 Feb 2010 18:39:32 +0300

elliptics (2.6.3-36) unstable; urgency=low

  * Fixed off-by-one cookie truncation.

 -- Evgeniy Polyakov <zbr@gavana>  Tue, 09 Feb 2010 16:45:43 +0300

elliptics (2.6.3-35) unstable; urgency=low

  * Added permanent headers, which are added on every request.

 -- Evgeniy Polyakov <zbr@gavana>  Tue, 09 Feb 2010 00:29:54 +0300

elliptics (2.6.3-34) unstable; urgency=low

  * Added client reconnection logic.

 -- Evgeniy Polyakov <zbr@gavana>  Mon, 08 Feb 2010 21:45:49 +0300

elliptics (2.6.3-33) unstable; urgency=low

  * Fixed fcgi module to properly use dnet_fcgi_output() printing helper

 -- Evgeniy Polyakov <zbr@gavana>  Sat, 06 Feb 2010 02:47:00 +0300

elliptics (2.6.3-32) unstable; urgency=low

  * Debian changelog update

 -- Evgeniy Polyakov <zbr@gavana>  Fri, 05 Feb 2010 05:41:16 +0300

elliptics (2.6.3-31) unstable; urgency=low

  * Fixed printf warning

 -- Evgeniy Polyakov <zbr@gavana>  Fri, 05 Feb 2010 05:40:29 +0300

elliptics (2.6.3-30) unstable; urgency=low

  * Greatly simplified network/reconnection logic.

 -- Evgeniy Polyakov <zbr@gavana>  Fri, 05 Feb 2010 04:33:09 +0300

elliptics (2.6.3-27) unstable; urgency=low

  * Force dnet_fcgi_output() to return 0 when nothing was printed out.

 -- Evgeniy Polyakov <zbr@gavana>  Fri, 05 Feb 2010 01:46:05 +0300

elliptics (2.6.3-26) unstable; urgency=low

  * Debian changelog update.

 -- Evgeniy Polyakov <zbr@gavana>  Thu, 04 Feb 2010 21:16:09 +0300

elliptics (2.6.3-25) unstable; urgency=low

  * Use text/plain instead of text/html for error messages.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 04 Feb 2010 20:13:57 +0300

elliptics (2.6.3-24) unstable; urgency=low

  * Added support for configurable content types.  Config should enable
    following option (lighttpd example): "DNET_FCGI_CONTENT_TYPES" =>
    "xml,text/xml jpg,image/jpeg txt,text/plain"  When ID contains first
    part of comma-separated string, it will set content type to be equal
    to the second part. Only works for direct download, i.e. through
    proxy. Changed default error codes: when lookup/read returns -ENOENT
    (no object) status will be set to 404 and otherwise to 403. Added
    Cache-control: no-cache where needed. # Please enter the commit
    message for your changes. Lines starting # with '#' will be ignored,
    and an empty message aborts the commit. # Explicit paths specified
    without -i nor -o; assuming --only paths... # On branch master #
    Changes to be committed: #   (use "git reset HEAD <file>..." to
    unstage) # # modified:   example/fcgi/fcgi.c # modified:
    example/fcgi/lighttpd-fastcgi-dnet.conf # # Changed but not updated:
    #   (use "git add <file>..." to update what will be committed) #
    (use "git checkout -- <file>..." to discard changes in working
    directory) # # modified:   debian/changelog # # Untracked files: #
    (use "git add <file>..." to include in what will be committed) # #
    build-stamp # debian/dirs # debian/files #
    example/check/dnet_check_log # example/dnet_check_log #
    example/fcgi/dnet_fcgi # example/fcgi/fcgi.c.orig # generated.log

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 04 Feb 2010 20:13:23 +0300

elliptics (2.6.3-23) unstable; urgency=low

  * Added object meta iformation dump into hparser util.  It prints
    total size and parent object id in the last line. # Please enter the
    commit message for your changes. Lines starting # with '#' will be
    ignored, and an empty message aborts the commit. # Explicit paths
    specified without -i nor -o; assuming --only paths... # On branch
    master # Changes to be committed: #   (use "git reset HEAD
    <file>..." to unstage) # # modified:   example/hparser.c # # Changed
    but not updated: #   (use "git add <file>..." to update what will be
    committed) #   (use "git checkout -- <file>..." to discard changes
    in working directory) # # modified:   debian/changelog # # Untracked
    files: #   (use "git add <file>..." to include in what will be
    committed) # # build-stamp # debian/dirs # debian/files #
    example/check/dnet_check_log # example/dnet_check_log #
    example/fcgi/dnet_fcgi # example/fcgi/fcgi.c.orig # generated.log

 -- Evgeniy Polyakov <zbr@ioremap.net>  Wed, 03 Feb 2010 00:52:09 +0300

elliptics (2.6.3-22) unstable; urgency=low

  * Imporoved log checker.  Added ability to properly upload new files
    when old ones did not exist as file itself, but only as transaction
    log. # Please enter the commit message for your changes. Lines
    starting # with '#' will be ignored, and an empty message aborts the
    commit. # Explicit paths specified without -i nor -o; assuming --
    only paths... # On branch master # Changes to be committed: #   (use
    "git reset HEAD <file>..." to unstage) # # modified:
    example/check/log.c # # Changed but not updated: #   (use "git add
    <file>..." to update what will be committed) #   (use "git checkout
    -- <file>..." to discard changes in working directory) # # modified:
    debian/changelog # # Untracked files: #   (use "git add <file>..."
    to include in what will be committed) # # build-stamp # debian/dirs
    # debian/files # example/check/dnet_check_log #
    example/dnet_check_log # example/fcgi/dnet_fcgi #
    example/fcgi/fcgi.c.orig # generated.log

 -- Evgeniy Polyakov <zbr@ioremap.net>  Wed, 03 Feb 2010 00:40:15 +0300

elliptics (2.6.3-21) unstable; urgency=low

  * Allow all kinds of files to be checked (both transaction logs and
    plain data files like written by fcgi proxy)

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 02 Feb 2010 22:22:47 +0300

elliptics (2.6.3-20) unstable; urgency=low

  * Use private mutex-protected helper function to workaround libfcgi
    64bit and concurency issues.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 02 Feb 2010 20:33:01 +0300

elliptics (2.6.3-19) unstable; urgency=low

  * Always perform 'physical' lookup and do not read history files (read
    data one).

 -- Evgeniy Polyakov <zbr@ioremap.net>  Mon, 01 Feb 2010 19:42:21 +0300

elliptics (2.6.3-18) unstable; urgency=low

  * Implemented reply to POST method - fcgi daemon returns XML with IDs
    generated for given object.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Mon, 01 Feb 2010 17:46:59 +0300

elliptics (2.6.3-17) unstable; urgency=low

  * Initial fsck implementation. Supports number of copies check
    currently.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Sun, 31 Jan 2010 22:33:25 +0300

elliptics (2.6.3-16) unstable; urgency=low

  * Return NULL from watchdog thread to shut up compiler

 -- Evgeniy Polyakov <zbr@ioremap.net>  Sat, 30 Jan 2010 01:46:27 +0300

elliptics (2.6.3-15) unstable; urgency=low

  * Added second line break on error path and worked around libfcgi bug,
    when it does not understand %ll. printf format and resets the
    stream.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 28 Jan 2010 16:56:21 +0300

elliptics (2.6.3-14) unstable; urgency=low

  * Debian changelog update

 -- Evgeniy Polyakov <zbr@ioremap.net>  Wed, 27 Jan 2010 18:59:40 +0300

elliptics (2.6.3-13) unstable; urgency=low

  * Return before entering error path on success.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Wed, 27 Jan 2010 18:59:26 +0300

elliptics (2.6.3-12) unstable; urgency=low

  * Debian changelog update

 -- Evgeniy Polyakov <zbr@ioremap.net>  Wed, 27 Jan 2010 02:27:11 +0300

elliptics (2.6.3-11) unstable; urgency=low

  * Use 64bit mask in fcgi proxy.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Wed, 27 Jan 2010 02:26:56 +0300

elliptics (2.6.3-10) unstable; urgency=low

  * Debian changelog update

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 26 Jan 2010 22:56:20 +0300

elliptics (2.6.3-9) unstable; urgency=low

  * Print 6 bytes of ID by default.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 26 Jan 2010 22:33:34 +0300

elliptics (2.6.3-8) unstable; urgency=low

  * Use 64 bit mask in filesystem backend.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 26 Jan 2010 22:32:25 +0300

elliptics (2.6.3-7) unstable; urgency=low

  * Changed error returt status, added strerror() output and content
    type.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Wed, 20 Jan 2010 01:06:51 +0300

elliptics (2.6.3-6) unstable; urgency=low

  * Do not try non-direct download if unsupported type was requested.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Wed, 20 Jan 2010 00:05:57 +0300

elliptics (2.6.3-5) unstable; urgency=low

  * Debian changelog update

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 19 Jan 2010 20:25:00 +0300

elliptics (2.6.3-4) unstable; urgency=low

  * Fixed cookie/sign generation algo according to documentation.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 19 Jan 2010 20:22:27 +0300

elliptics (2.6.3-3) unstable; urgency=low

  * Shut down some noisy information prints

 -- Evgeniy Polyakov <zbr@ioremap.net>  Sun, 20 Dec 2009 00:47:00 +0300

elliptics (2.6.3-2) unstable; urgency=low

  * Added cleanup debug message into dnet_cleanup_transform()

 -- Evgeniy Polyakov <zbr@ioremap.net>  Sat, 19 Dec 2009 22:19:53 +0300

elliptics (2.6.3-1) unstable; urgency=low

  * Added transformation cleanup into node destruction path.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Sat, 19 Dec 2009 22:07:30 +0300

elliptics (2.6.3) unstable; urgency=low

  * 2.6.3 release

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 17 Dec 2009 21:56:35 +0300

elliptics (2.6.2-7) unstable; urgency=low

  * New elliptics network release: 2.6.3

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 17 Dec 2009 21:55:52 +0300

elliptics (2.6.2-6) unstable; urgency=low

  * "Added fastcgi README into distribution"

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 17 Dec 2009 21:55:11 +0300

elliptics (2.6.2-5) unstable; urgency=low

  * Changed cookie generation algorithm, fixed direct URI generatation
    for IO storage backend.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 15 Dec 2009 17:12:01 +0300

elliptics (2.6.2-4-1) unstable; urgency=low

  * Extended file IO backend - put :f into getopt.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Mon, 14 Dec 2009 20:41:00 +0300

elliptics (2.6.2-4) unstable; urgency=low

  * Extended file IO backend.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Mon, 14 Dec 2009 19:10:40 +0300

elliptics (2.6.2-3) unstable; urgency=low

  * Dynamic per-address transformation function selection.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Wed, 09 Dec 2009 19:28:04 +0300

elliptics (2.6.2-2) unstable; urgency=low

  * Virtual datacenters.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Sat, 05 Dec 2009 05:58:24 +0300

elliptics (2.6.2-1) unstable; urgency=low

  * Version increment: features and bug fixes.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 04 Dec 2009 16:08:41 +0300

elliptics (2.6.2) unstable; urgency=low

  * Added FastCGI daemon
  * Extended lookup to check whether requested object is stored locally
  * Added lighttpd fastcgi config
  * Bug fixes

 -- Evgeniy Polyakov <zbr@ioremap.net>  Wed, 18 Nov 2009 19:47:25 +0300

elliptics (2.6.1-1) unstable; urgency=low

  * Initial release (Closes: #nnnn)  <nnnn is the bug number of your ITP>

 -- Evgeniy Polyakov <zbr@ioremap.net>  Wed, 18 Nov 2009 16:14:14 +0300
