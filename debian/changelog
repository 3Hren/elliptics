elliptics-2.10 (2.14.0.5) unstable; urgency=low

  * Added SMACK backend depends

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 22 Jun 2012 19:54:13 +0400

elliptics-2.10 (2.14.0.4) unstable; urgency=low

  * Drop cocaine plugin dependencies

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 22 Jun 2012 15:27:13 +0400

elliptics-2.10 (2.14.0.3) unstable; urgency=low

  * Added new cocaine package dependencies

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 22 Jun 2012 13:57:13 +0400

elliptics-2.10 (2.14.0.2) unstable; urgency=low

  * Build srw fix (use weak symbol for dnet_log_raw())
  * Added new eblob bit to config documentation, drop unused parameters
  * Fixed write response generation

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 21 Jun 2012 18:18:13 +0400

elliptics-2.10 (2.14.0.1) unstable; urgency=low

  * Use cocaine workers for server-side
  * Drop dnet_attr structure
  * Optimize read (do not send ack if there is data)
  * Use ioremap::elliptics namespace
  * Added ::push() - nonblocking exec

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 15 Jun 2012 03:15:13 +0400

elliptics-2.10 (2.13.0.9) unstable; urgency=low

  * Do not allow zero-sized reads
  * Do not double-close python init file

 -- Evgeniy Polyakov <zbr@ioremap.net>  Sun, 29 Apr 2012 01:10:13 +0400

elliptics-2.10 (2.13.0.8) unstable; urgency=low

  * Added new lookup() methods to c++/python bindings. Patch by Anton Kortunov <toshik@yandex-team.ru>
  * If we fail to open log file, dup2() stdout/stderr to /dev/null in spawned worker process

 -- Evgeniy Polyakov <zbr@ioremap.net>  Sat, 28 Apr 2012 01:01:13 +0400

elliptics-2.10 (2.13.0.7) unstable; urgency=low

  * More mess with 012 file descriptors - dup them to /dev/null when going background, reopen to log file in srw worker
  * Use correct F_SETFD/FD_CLOEXEC
  * Use old-school fcntl() instead of accept4() and epoll_create1()
  * Allow script execution without cmd-line

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 27 Apr 2012 21:18:13 +0400

elliptics-2.10 (2.13.0.6) unstable; urgency=low

  * Added srw config options
  * Added O_CLOEXEC flags
  * Added new configs (for nginx and fastcgi frontend) and python example
  * Return sub data from smack_write() call - this is needed for fastcgi frontend
  * Let dnet_ioclient write file by ID
  * Added smack backend wrapper

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 27 Apr 2012 00:39:13 +0400

elliptics-2.10 (2.13.0.5) unstable; urgency=low

  * Build dependencies update
  * Do not write metadata when appropirate bit is set in node->flags
  * Update documentation about blob flags

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 6 Apr 2012 00:41:13 +0400

elliptics-2.10 (2.13.0.4) unstable; urgency=low

  * Updated state mixing algorithm
  * Added defrag_timeout, defrag_percentage and blob_size options to file backend

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 23 Mar 2012 17:20:13 +0400

elliptics-2.10 (2.13.0.3) unstable; urgency=low

  * Allow ioclient to read/write data in different columns
  * Hardlink script should overwrite data
  * Fixed file read/write with different column
  * Use correct pipe path, which includes pid
  * Use correct structure size for dentries and extended logging
  * Do not set name for main process

 -- Evgeniy Polyakov <zbr@ioremap.net>  Mon, 19 Mar 2012 01:03:13 +0400

elliptics-2.10 (2.13.0.2) unstable; urgency=low

  * Use exactly specified in config socket family
  * Obsolete srw by ellipitcs
  * Revert "Use X bits from operation key to find a lock instead of random hashing"
  * Added proper sigchild handling
  * spec update - added libsrw.so* files
  * Dropped srw dependancy

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 13 Mar 2012 20:06:13 +0400

elliptics-2.10 (2.13.0.1) unstable; urgency=low

  * Added srw

 -- Evgeniy Polyakov <zbr@ioremap.net>  Sun, 11 Mar 2012 21:19:13 +0400

elliptics-2.10 (2.12.0.1) unstable; urgency=low

  * Depend on 0.15 eblob: added new defragmentation parameters into config
  * Propagate prepare_write() and friends return values back to callers - changed API

 -- Evgeniy Polyakov <zbr@ioremap.net>  Wed, 29 Feb 2012 22:19:13 +0400

elliptics-2.10 (2.11.1.7) unstable; urgency=low

  * Get rid of virtually unused and unneded eblob generation tools. It can be replaced by trivial python scripts
  * Updated python scripts to use new eblob class
  * exec is reserved name in python, use exec_script for execution method name

 -- Evgeniy Polyakov <zbr@ioremap.net>  Sun, 19 Feb 2012 00:13:13 +0400

elliptics-2.10 (2.11.1.6) unstable; urgency=low

  * Added possibility to read metadata from file and dump to log
  * Added remove_keys_from_storage_found_removed_in_eblob.py
  * Added local merge iterator written in python. Is not optimal, but quite fast.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 16 Feb 2012 22:52:13 +0400

elliptics-2.10 (2.11.1.5) unstable; urgency=low

  * Execute CHECK commands with NOLOCK flag

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 14 Feb 2012 21:34:13 +0400

elliptics-2.10 (2.11.1.4) unstable; urgency=low

  * Use correct eblob path for statvfs() request

 -- Evgeniy Polyakov <zbr@ioremap.net>  Sat, 11 Feb 2012 23:22:13 +0400

elliptics-2.10 (2.11.1.3) unstable; urgency=low

  * Set id.type to 0 where appropriate
  * Request statistics with DNET_ATTR_NOLOCK flag set
  * Fixed pohmelfs_rename.py

 -- Evgeniy Polyakov <zbr@ioremap.net>  Mon, 8 Feb 2012 22:55:13 +0400

elliptics-2.10 (2.11.1.2) unstable; urgency=low

  * Process checksum flags according to aflags and ioflags

 -- Evgeniy Polyakov <zbr@ioremap.net>  Mon, 6 Feb 2012 23:55:13 +0400

elliptics-2.10 (2.11.1.1) unstable; urgency=low

  * Added start/num parameters to iterate over selected number of blobs.
  * Depend on 0.14.1 blob and higher where it is implemented.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Wed, 1 Feb 2012 00:58:13 +0400

elliptics-2.10 (2.11.0.15) unstable; urgency=low

  * Added readdir script
  * Dropped content length manipulation from srw/pohmelfs_inode_info_insert.py
  * Use dnet_process_meta instead of dnet_process_cmd_raw to prevent deadlocks

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 26 Jan 2012 23:11:13 +0400

elliptics-2.10 (2.11.0.14) unstable; urgency=low

  * Reserve some space for directory content
  * Added pohmelfs_read_latest_groups.py script
  * Implemented prepare-latest helper, which returns timestamp sorted groups which contain requested id
  * If we have more data to send, set only DNET_FLAGS_MORE flag, not erase others
  * Rename cpp bindings
  * Fixed range requests without limits

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 24 Jan 2012 00:28:13 +0400

elliptics-2.10 (2.11.0.13) unstable; urgency=low

  * Sort keys on server side in range requests
  * Disable eblob_gen for now
  * Address new binutils issues (gcc 4.6 compilation fixes)

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 17 Jan 2012 21:08:13 +0400

elliptics-2.10 (2.11.0.12) unstable; urgency=low

  * Trying to address new binutils issues
  * Fill with zeroes all io threads structures
  * Set io.num to content size+offset in write_data_wait() - it allows to use prepare/commit flags

 -- Evgeniy Polyakov <zbr@ioremap.net>  Wed, 21 Dec 2011 04:31:13 +0400

elliptics-2.10 (2.11.0.11) unstable; urgency=low

  * Implemented check for start/stop update timestamp
  * Added cache tests in test.cpp

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 20 Dec 2011 01:15:13 +0400

elliptics-2.10 (2.11.0.10) unstable; urgency=low

  * Added configurable two-queue cache for read data by Anton Kortunov <toshic.toshic@gmail.com>

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 15 Dec 2011 22:00:13 +0400

elliptics-2.10 (2.11.0.9) unstable; urgency=low

  * Reopen log file on sighup

 -- Evgeniy Polyakov <zbr@ioremap.net>  Mon, 12 Dec 2011 20:36:59 +0400

elliptics-2.10 (2.11.0.8) unstable; urgency=low

  * Set DNET_FLAGS_NOLOCK for route/reverse lookup request/reply commands
  * Added memory_test_pohmelfs() autotest
  * Added gc calls into pohmelfs methods
  * Fixed exception string generation for null ids
  * Added small memory/leak test

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 9 Dec 2011 21:15:59 +0400

elliptics-2.10 (2.11.0.7) unstable; urgency=low

  * Use eblob_read_nocsum() if DNET_IO_FLAGS_NOCSUM is set

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 2 Dec 2011 22:06:59 +0400

elliptics-2.10 (2.11.0.6) unstable; urgency=low

  * Cleanup unused variables
  * Fixed reply cmd->flags initialization
  * Use boost::filesystem v2
  * Fixes in bulk_read and bulk_write

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 1 Dec 2011 02:27:59 +0400

elliptics-2.10 (2.11.0.5) unstable; urgency=low

  * Implemented pool of non-blocking threads for recursive commands.
  * Dropped metadata csum support in favour of eblob embedded checksums.
  * Added bulk_write operation.
  * Added sstable parser into python module

 -- Evgeniy Polyakov <zbr@ioremap.net>  Mon, 28 Nov 2011 15:56:59 +0400

elliptics-2.10 (2.11.0.4) unstable; urgency=low

  * Added nolocking IO thread

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 24 Nov 2011 22:38:03 +0400

elliptics-2.10 (2.11.0.3) unstable; urgency=low

  * Added oplock_num config parameter
  * Added non-blocking thread checks

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 24 Nov 2011 21:18:13 +0400

elliptics-2.10 (2.11.0.2) unstable; urgency=low

  * Aflags/lock cleanups

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 24 Nov 2011 05:39:46 +0400

elliptics-2.10 (2.11.0.1) unstable; urgency=low

  * Added operations locks. Now all commands are processed with
    single-machine-atomicity
  * Added server-side scripts

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 24 Nov 2011 03:50:21 +0400

elliptics-2.10 (2.10.4.13) unstable; urgency=low

  * Only perform blob write if io->size is not zero

 -- Evgeniy Polyakov <zbr@ioremap.net>  Wed, 23 Nov 2011 04:19:15 +0400

elliptics-2.10 (2.10.4.12) unstable; urgency=low

  * Initialize srw after node

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 22 Nov 2011 05:51:22 +0400

elliptics-2.10 (2.10.4.11) unstable; urgency=low

  * Do not chroot into history environment, since it is most likely incomplete

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 22 Nov 2011 05:42:32 +0400

elliptics-2.10 (2.10.4.10) unstable; urgency=low

  * Do not csum read when DNET_IO_FLAGS_NOCSUM ioflag is set
  * When doing partial read, checksum whole file

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 22 Nov 2011 04:55:37 +0400

elliptics-2.10 (2.10.4.9) unstable; urgency=low

  * cpp tests update
  * Return -ENOTSUP if srw is not initialized
  * Do not reset join state to RECONNECT after it has been created
  * Added stall_count as a configurable parameter
  * Added BULK_READ command

 -- Evgeniy Polyakov <zbr@ioremap.net>  Sat, 19 Nov 2011 01:36:52 +0400

elliptics-2.10 (2.10.4.8) unstable; urgency=low

  * Fixed range counters
  * Added ::remove() methods into python binding
  * Remove all types if -1 as id->type is specified
  * RHEL build must depend on eblob-devel >= 0.12.18 libsrw-devel >= 0.2.2

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 15 Nov 2011 18:32:37 +0400

elliptics-2.10 (2.10.4.7) unstable; urgency=low

  * Moved some objects from interface.h to packet.h
  * Added range counters
  * DNET_IO_FLAGS_PLAIN_WRITE must differ from DNET_IO_FLAGS_NOCSUM
  * Use IP_TOS instead of SO_PRIORITY to set tos bits
  * srw is called libsrw in rhel builds
  * Depend on 0.12.18 eblob and 0.2.2 srw

 -- Evgeniy Polyakov <zbr@ioremap.net>  Mon, 14 Nov 2011 16:20:29 +0400

elliptics-2.10 (2.10.4.6) unstable; urgency=low

  * Depend on 0.2.1 srw and higher

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 03 Nov 2011 03:13:18 +0400

elliptics-2.10 (2.10.4.5) unstable; urgency=low

  * Added binary data support in srw

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 03 Nov 2011 02:37:06 +0400

elliptics-2.10 (2.10.4.4) unstable; urgency=low

  * Do not fail node initialization if srw is not initialized

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 01 Nov 2011 03:13:04 +0400

elliptics-2.10 (2.10.4.3) unstable; urgency=low

  * blob_send modified to send all columns if id.type == -1
  * Do not depend elliptics build on libssl
  * eblob/srw autoconf updates
  * Do not return 1 from blob_write when data was compressed, return 0, since
    there was no error

 -- Evgeniy Polyakov <zbr@ioremap.net>  Mon, 31 Oct 2011 22:04:10 +0400

elliptics-2.10 (2.10.4.2) unstable; urgency=low

  * Do not call dnet_convert_io_attr for DNET_CMD_DEL command
  * Added srw dependency

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 25 Oct 2011 21:29:49 +0400

elliptics-2.10 (2.10.4.1) unstable; urgency=low

  * Decreased WRITE latency
  * Use CORK for write blocks

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 21 Oct 2011 19:20:18 +0400

elliptics-2.10 (2.10.4.0) unstable; urgency=low

  * Added ioprio call inside check
  * More example ioserv.conf comments
  * Added client/server network priorities (man 7 socket -> IP_PRIORITY)

 -- Evgeniy Polyakov <zbr@ioremap.net>  Wed, 19 Oct 2011 23:22:19 +0400

elliptics-2.10 (2.10.3.9) unstable; urgency=low

  * Fixed memory allocation in range-delete

 -- Evgeniy Polyakov <zbr@ioremap.net>  Sat, 15 Oct 2011 05:41:55 +0400

elliptics-2.10 (2.10.3.8) unstable; urgency=low

  * Added authentification support

 -- Evgeniy Polyakov <zbr@ioremap.net>  Wed, 12 Oct 2011 00:52:54 +0400

elliptics-2.10 (2.10.3.7) unstable; urgency=low

  * Only set BLOB_DISK_CTL_NOCSUM if DNET_IO_FLAGS_NOCSUM is set
  * Added dnet_get_routes function
  * Added server-side scripting support
  * Example ioserv.conf update
  * Spec update

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 11 Oct 2011 01:23:36 +0400

elliptics-2.10 (2.10.3.6) unstable; urgency=low

  * Fixed dnet_cmd_bulk_check

 -- Evgeniy Polyakov <zbr@ioremap.net>  Wed, 28 Sep 2011 19:22:43 +0400

elliptics-2.10 (2.10.3.5) unstable; urgency=low

  * Added overwrite io flag. Depend on blob 0.12.5+ where it is implemented

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 27 Sep 2011 01:07:33 +0400

elliptics-2.10 (2.10.3.4) unstable; urgency=low

  * Added DNET_DEL_RANGE command

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 23 Sep 2011 22:07:55 +0400

elliptics-2.10 (2.10.3.3) unstable; urgency=low

  * Depend on 0.12.3 eblob

 -- Evgeniy Polyakov <zbr@ioremap.net>  Wed, 21 Sep 2011 19:40:02 +0400

elliptics-2.10 (2.10.3.2) unstable; urgency=low

  * Only doing plain write when io->size is not zero

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 15 Sep 2011 03:16:52 +0400

elliptics-2.10 (2.10.3.1) unstable; urgency=low

  * Iterate over all blobs inside check copies/merge

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 13 Sep 2011 15:10:55 +0400

elliptics-2.10 (2.10.3.0) unstable; urgency=low

  * Depend on 0.12.0 eblob and higher
  * Added append support for eblob and auto test

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 13 Sep 2011 00:44:39 +0400

elliptics-2.10 (2.10.2.3) unstable; urgency=low

  * dnet_write_metadata() requires mc.id to be set
  * decrease log level in dnet_send_read_data()

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 02 Sep 2011 20:07:11 +0400

elliptics-2.10 (2.10.2.2) unstable; urgency=low

  * dnet_mix_states() should use selected groups for weights

 -- Evgeniy Polyakov <zbr@ioremap.net>  Wed, 31 Aug 2011 23:22:41 +0400

elliptics-2.10 (2.10.2.1) unstable; urgency=low

  * Added config flag to randomize groups
  * Use close_on_exit flag instead of duplicating file descriptor

 -- Evgeniy Polyakov <zbr@ioremap.net>  Wed, 31 Aug 2011 21:46:29 +0400

elliptics-2.10 (2.10.2.0) unstable; urgency=low

  * Get rid of unused config fields
  * File backend blob logger should be set to dnet_config one, since they are
    binary compatible
  * Added dnet_create_metadata(), use it in cpp binding and eblob generator
  * Added records_in_blob config parameter and depends on 0.11.0 eblob and
    higher

 -- Evgeniy Polyakov <zbr@ioremap.net>  Wed, 31 Aug 2011 00:24:56 +0400

elliptics-2.10 (2.10.1.21) unstable; urgency=low

  * dnet_addr.addr_len must be set prior its usage

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 30 Aug 2011 00:30:15 +0400

elliptics-2.10 (2.10.1.20) unstable; urgency=low

  * Added error logs for status update in dnet_ioclient
  * Spelling fix
  * Use C-provided params for completion handling, this fixes parallel
    callback invocation case. From Anton Kortunov <toshik@yandex-team.ru>

 -- Evgeniy Polyakov <zbr@ioremap.net>  Sun, 28 Aug 2011 05:29:49 +0400

elliptics-2.10 (2.10.1.19) unstable; urgency=low

  * Client must have SINGLE io thread

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 26 Aug 2011 00:41:12 +0400

elliptics-2.10 (2.10.1.18) unstable; urgency=low

  * Add "override groups with replicas" option to check copies

 -- Evgeniy Polyakov <zbr@ioremap.net>  Wed, 24 Aug 2011 01:52:55 +0400

elliptics-2.10 (2.10.1.17) unstable; urgency=low

  * Client nodes by default should have more io/net threads, in case some
    transaction reply takes too long (in particular this happens, when we
    download route table, try to connect to all nodes, but some of them are
    hidden behind firewall.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Sat, 20 Aug 2011 22:17:43 +0400

elliptics-2.10 (2.10.1.16) unstable; urgency=low

  * Use ctl.local_offset instead of io.offset to send data in eblob_send()
  * Remove data on DNET_CMD_DEL command no matter how metadata processing
    finished

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 18 Aug 2011 18:58:45 +0400

elliptics-2.10 (2.10.1.15) unstable; urgency=low

  * Fixed size/offset order in cpp binding
  * Only cheksum data for verificatino if metadata csum is not filled with
    zeroes

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 12 Aug 2011 00:09:53 +0400

elliptics-2.10 (2.10.1.14) unstable; urgency=low

  * Use realloc() to stack multiple write replies one after another

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 11 Aug 2011 02:53:55 +0400

elliptics-2.10 (2.10.1.13) unstable; urgency=low

  * Send dnet_file_info structure in write reply. Fixed csum copy in
    dnet_send_file_info()
  * ->file_info() callback should dig into metadata only for checksum and
    meta_update calls. In case of meta_update do not fail, if there is no
    metadata.
  * Added aflags into ioclient. Use -I id to read data if available.
  * Added compressed write test.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 11 Aug 2011 02:36:24 +0400

elliptics-2.10 (2.10.1.12) unstable; urgency=low

  * Depend on 0.10.0 eblob and higher

 -- Evgeniy Polyakov <zbr@ioremap.net>  Wed, 10 Aug 2011 06:13:33 +0400

elliptics-2.10 (2.10.1.11) unstable; urgency=low

  * Always request dnet_file_info structure in ->file_info() callback
  * Do not request checksums in reads, which do not have metadata in test
    utils

 -- Evgeniy Polyakov <zbr@ioremap.net>  Wed, 10 Aug 2011 05:50:41 +0400

elliptics-2.10 (2.10.1.10) unstable; urgency=low

  * Removed dnet_verify_checksum_io() and dnet_meta_read_checksum()
  * Pushed csum verification and dnet_file_info fill down to backends to
    reduce number of lookups
  * Do not print meaningless number of written groups

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 09 Aug 2011 00:27:15 +0400

elliptics-2.10 (2.10.1.9) unstable; urgency=low

  * Do not print ENOENT error for DNET_CMD_READ_RANGE command
  * Added attribute flags for sorted range output
  * Return little-endian size in read_data_range()

 -- Evgeniy Polyakov <zbr@ioremap.net>  Sat, 06 Aug 2011 02:06:49 +0400

elliptics-2.10 (2.10.1.8) unstable; urgency=low

  * Exit from range loop early when detected that next.id > end.id. Only copy
    data when it is in limit(start, num) window.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 05 Aug 2011 00:39:38 +0400

elliptics-2.10 (2.10.1.7) unstable; urgency=low

  * Fixed infinite iteration loop in range lookup processing
  * Added lookup test

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 04 Aug 2011 22:56:53 +0400

elliptics-2.10 (2.10.1.6) unstable; urgency=low

  * Added Replaces and Provides directives to debian/control
  * Process READ and WRITE commands for metadata

 -- Anton Kortunov <toshik@yandex-team.ru>  Thu, 04 Aug 2011 17:10:00 +0300

elliptics-2.10 (2.10.1.5) unstable; urgency=low

  * Depend on eblob 0.9.6 and higher
  * Remove object if metadata processing did not return error
  * Call metadata removal when DNET_CMD_DEL requested
  * Expose range reply in C++ binding as std::vector<std::string>. Python
    binding uses list
  * Daemon mode for dnet_check

 -- Evgeniy Polyakov <zbr@ioremap.net>  Wed, 03 Aug 2011 21:12:56 +0400

elliptics-2.10 (2.10.1.4) unstable; urgency=low

  * Do not fail if dnet_read_range() returned no data AND no error. Read
    returned data only if it is not NULL
  * Added test_range_request()
  * Removed '-Replaces:' directive from debian/control

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 02 Aug 2011 17:27:26 +0400

elliptics-2.10 (2.10.1.3) unstable; urgency=low

  * Change package replace/provide list

 -- Evgeniy Polyakov <zbr@ioremap.net>  Sat, 30 Jul 2011 00:47:13 +0400

elliptics-2.10 (2.10.1.2) unstable; urgency=low

  * Change package replace/provide list
  * Do not allow EBLOB_TYPE_META column update without DNET_IO_FLAGS_META flag
    set

 -- Evgeniy Polyakov <zbr@ioremap.net>  Sat, 30 Jul 2011 00:28:35 +0400

elliptics-2.10 (2.10.1.1) unstable; urgency=low

  * Added prepare/commit C++ methods. Updated to 0.9.0 eblob
  * Added n->flags update through dnet_ioclient
  * Update ioserv.conf

 -- Evgeniy Polyakov <zbr@ioremap.net>  Wed, 27 Jul 2011 21:24:14 +0400

elliptics-2.10 (2.10.1.0) unstable; urgency=low

  * Switch to 2.10 package name

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 22 Jul 2011 17:32:48 +0400

elliptics (2.10.0.13) unstable; urgency=low

  * dnet_find should print metadata found information via dnet_print_meta()
    the same way dnet_meta does

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 22 Jul 2011 01:48:25 +0400

elliptics (2.10.0.12) unstable; urgency=low

  * Added possibility to change log mask and server status(ro, exit) via
    dnet_ioclient
  * Update ioserv.conf config
  * File sync should be in sync with eblob sync: 0 means sync after each
    write, positive number - once per N seconds
  * Dropped stack size setup
  * Fixed check copy
  * Log cleanups

 -- Evgeniy Polyakov <zbr@ioremap.net>  Wed, 20 Jul 2011 23:01:22 +0400

elliptics (2.10.0.11) unstable; urgency=low

  * Use dnet_cmd_string() for nice logs

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 19 Jul 2011 02:01:07 +0400

elliptics (2.10.0.10) unstable; urgency=low

  * Added thread num control to check
  * Depend on eblob 0.8.4 and higher

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 15 Jul 2011 19:08:58 +0400

elliptics (2.10.0.9) unstable; urgency=low

  * Merged recovery fixes from Anton Kortunov

 -- Evgeniy Polyakov <zbr@ioremap.net>  Mon, 11 Jul 2011 21:27:51 +0400

elliptics (2.10.0.8) unstable; urgency=low

  * Get rid of state get/put in pool processing
  * Decrease number of stall transaction to mark state as dead

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 08 Jul 2011 20:09:39 +0400

elliptics (2.10.0.7) unstable; urgency=low

  * Only put dnet_state_net_process() states

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 08 Jul 2011 04:09:15 +0400

elliptics (2.10.0.6) unstable; urgency=low

  * Do not put accepting socket

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 08 Jul 2011 03:45:23 +0400

elliptics (2.10.0.5) unstable; urgency=low

  * Grab and release state reference around dnet_schedule_network_io()
  * Sync with 0.8.0 eblob changes
  * Drop kyoto cabinet from build dependencies

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 08 Jul 2011 03:24:09 +0400

elliptics (2.10.0.4) unstable; urgency=low

  * Merge eblob iterator callback changes
  * Switched from tsec/tnsec to dnet_time
  * Sync with 0.7.0 eblob changes

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 05 Jul 2011 22:06:26 +0400

elliptics (2.10.0.3) unstable; urgency=low

  * Do not csum zero-length files
  * Request metadata times in dnet_find()
  * Use readlink() to get eblob name through /proc/self/fd
  * Metadata reading should behave similar when reading by name and by ID
  * Move to be written object into /tmp and then remove (dnet_meta_update_all)
  * Export dnet_read_data_wait_raw() and use it for metadata reading
  * Implemented latest read, i.e. kind of R from R, W and N, but we always get
    the latest data from those R reads. Also C++/Python bindings
  * Removed kyoto cabinet support

 -- Evgeniy Polyakov <zbr@ioremap.net>  Sun, 03 Jul 2011 03:50:09 +0400

elliptics (2.10.0.2) unstable; urgency=low

  * Implemented proper column API
  * Added compression support

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 30 Jun 2011 04:30:12 +0400

elliptics (2.10.0.1) unstable; urgency=low

  * Added eblob 0.5.2 iterators for meta_iterate() callback.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 28 Jun 2011 01:35:47 +0400

elliptics (2.10.0.0) unstable; urgency=low

  * Switched to backend's metadata storage. File backend uses eblob, eblob
    backend embeds metadata in it as separate column
  * Want 0.5.1 eblob and higher
  * Extended UPDATE_STATUS command
  * Do not update metadata after write command, client should send us full
    meta update
  * Switched to eblob as metadata storage
  * Added namespace zbr
  * Added range requests API

 -- Evgeniy Polyakov <zbr@ioremap.net>  Mon, 27 Jun 2011 22:04:16 +0400

elliptics (2.9.7.9) unstable; urgency=low

  * Removed route synchronization calls
  * Made dnet_add_state() synchronous - it waits for dnet_recv_route_list()
    for complete now
  * Updated makefiles to fix linking with Natty libtool

 -- Evgeniy Polyakov <zbr@ioremap.net>  Mon, 13 Jun 2011 22:42:24 +0400

elliptics (2.9.7.8) unstable; urgency=low

  * Do not try to dereference st->idc without lock, it can go away

 -- Evgeniy Polyakov <zbr@ioremap.net>  Sun, 12 Jun 2011 01:54:23 +0400

elliptics (2.9.7.7) unstable; urgency=low

  * Meta update should use direct transactions
  * Log level cleanups - decreased info writes

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 10 Jun 2011 15:22:45 +0400

elliptics (2.9.7.6) unstable; urgency=low

  * Write data/metadata if it is not present in selected group. If data is
    present, but metadata isn't, upload metadata

 -- Evgeniy Polyakov <zbr@ioremap.net>  Mon, 06 Jun 2011 20:57:24 +0400

elliptics (2.9.7.5) unstable; urgency=low

  * Use the same eblob mmap file

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 03 Jun 2011 07:29:18 +0400

elliptics (2.9.7.4) unstable; urgency=low

  * Added flag to disable metadata writes

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 02 Jun 2011 15:08:39 +0400

elliptics (2.9.7.3) unstable; urgency=low

  * If checksum is disabled globally propagate it into per-command attribute
    flag
  * Added AC_CONFIG_MACRO_DIR
  * Added __DNET_META_MAX into meta enum
  * ->send() callback returns positive number of transactions it sent or
    negative error number

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 02 Jun 2011 14:40:42 +0400

elliptics (2.9.7.2) unstable; urgency=low

  * Return -ENODATA instead of errno (-EAGAIN) when sendfile() fails to
    transfer file after it was truncated

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 31 May 2011 14:36:13 +0400

elliptics (2.9.7.1) unstable; urgency=low

  * Added library version generation

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 31 May 2011 13:43:31 +0400

elliptics (2.9.7.0) unstable; urgency=low

  * Added backend_cleanup() callback into dnet_config and dnet_node

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 31 May 2011 10:17:47 +0400

elliptics (2.9.6.174) unstable; urgency=low

  * Added dh_makeshlibs version dependency
  * Added flag to globally disable checksum generation and verification

 -- Evgeniy Polyakov <zbr@ioremap.net>  Mon, 30 May 2011 17:18:24 +0400

elliptics (2.9.6.173) unstable; urgency=low

  * Use recursive_directory_iterator(). Use proper flags in read_data_wait()
  * Added checksum enabled flag

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 26 May 2011 21:21:47 +0400

elliptics (2.9.6.172) unstable; urgency=low

  * Added meta updating tools, it scans directory or blobs and adds groups
    metadata if it is not present.
  * Added status update methods to cpp/python bindings.
  * Added offset, aflags and ioflags into dnet_read_data_wait() and children
    and read_data()

 -- Evgeniy Polyakov <zbr@ioremap.net>  Wed, 25 May 2011 21:23:20 +0400

elliptics (2.9.6.171) unstable; urgency=low

  * Request statistics to sync route table update in dnet_meta
  * Periodically request route table in dnet_check_process()

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 20 May 2011 01:20:06 +0400

elliptics (2.9.6.170) unstable; urgency=low

  * Force depending on eblob >= 0.2.0

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 19 May 2011 17:58:23 +0400

elliptics (2.9.6.169) unstable; urgency=low

  * We should grab state reference, since state can be killed between
    dnet_idc_create() and dnet_state_join_nolock()
  * Optimize checksum verification: do not calculate it twice in lookup. Read
    metadata checksum first, and only calculate on-disk csum if metadata csum
    exists

 -- Evgeniy Polyakov <zbr@ioremap.net>  Wed, 18 May 2011 18:25:16 +0400

elliptics (2.9.6.168) unstable; urgency=low

  * Verify checksum for all lookup and read requests. Added flag to disable
    checksum.
  * Put object checksum into dnet_file_info structure

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 17 May 2011 21:49:28 +0400

elliptics (2.9.6.167) unstable; urgency=low

  * Store checksum for written objects. Checksum is calculated each time
    metadata is written.
  * Added RW/RO and exit status as well as interface to set node status.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Mon, 16 May 2011 21:01:52 +0400

elliptics (2.9.6.166) unstable; urgency=low

  * Extended lookup response with file-info data.
  * Added possibility to lookup addr by ID

 -- Evgeniy Polyakov <zbr@ioremap.net>  Sat, 14 May 2011 02:23:18 +0400

elliptics (2.9.6.165) unstable; urgency=low

  * Unify IO logs
  * Prepend size and timestamp if needed when generating eblob from tar files
  * Return -E2BIG error when filesize 0 and we want to read more than that
  * Enable compiler flags for g++, fixed -W generated warnings in cpp binding

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 12 May 2011 22:33:27 +0400

elliptics (2.9.6.164) unstable; urgency=low

  * Increase default stack size to 4mb
  * Do not use dynamically allocated elliptics_callback

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 06 May 2011 20:39:49 +0400

elliptics (2.9.6.163) unstable; urgency=low

  * Added find utility.
  * Added dnet_request_cmd() and its binding
  * We may need to access node and groups in children classes, make them
    protected

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 06 May 2011 03:23:42 +0400

elliptics (2.9.6.162) unstable; urgency=low

  * Added transaction timestamp into destruction log
  * Do not restart check if we provided file list
  * Fixed generated file list check

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 05 May 2011 19:52:10 +0400

elliptics (2.9.6.161) unstable; urgency=low

  * Extended reconnection logs. Added tid/pid into elliptics_log_file::log()

 -- Evgeniy Polyakov <zbr@gavana>  Thu, 05 May 2011 11:02:05 +0400

elliptics (2.9.6.160) unstable; urgency=low

  * Copy mixed groups and use them in cpp bindings instead of plain groups
    dereference.
  * Save the last cmd in t->cmd and print its status when transaction is
    destroyed.
  * Extended metadata dump.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 05 May 2011 00:55:48 +0400

elliptics (2.9.6.159) unstable; urgency=low

  * Always add state addr and cmd if they are present in
    elliptics_callback::callback()
  * Do not break remove loop if we successfully removed object.
  * Mix states prior direct data reading reading in ::read_data_wait().
  * Throw exception if there is no group to read data from

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 03 May 2011 18:14:55 +0400

elliptics (2.9.6.158) unstable; urgency=low

  * Added DB/CHECK prefixes to appropriate operations. Exit process if we hit
    fatal database error and let starup recovery fix the things.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 29 Apr 2011 21:34:18 +0400

elliptics (2.9.6.157) unstable; urgency=low

  * Do not put state into epoll fd if it was already initialized

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 26 Apr 2011 18:36:51 +0400

elliptics (2.9.6.156) unstable; urgency=low

  * Remove dnet_join(), states are added into route table automatically. Fixed
    race between route table update (dnet_idc_create()) and storage_state_list
    update.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Mon, 25 Apr 2011 00:47:18 +0400

elliptics (2.9.6.155) unstable; urgency=low

  * Fixed usec->msec transformation during estimator calculus

 -- Evgeniy Polyakov <zbr@ioremap.net>  Sat, 23 Apr 2011 03:19:18 +0400

elliptics (2.9.6.154) unstable; urgency=low

  * Added weight estimator based on read transaction timings

 -- Evgeniy Polyakov <zbr@ioremap.net>  Sat, 23 Apr 2011 02:46:19 +0400

elliptics (2.9.6.153) unstable; urgency=low

  * Add some salt if there are equal weights and rerun sort
  * Fixed all-state-check - since states can be removed we must use safe
    iterator
  * Extended transaction debug - added weights

 -- Evgeniy Polyakov <zbr@ioremap.net>  Sat, 23 Apr 2011 01:39:14 +0400

elliptics (2.9.6.152) unstable; urgency=low

  * Moved stall transaction processing into network IO thread
  * Added 'flags' parameter into ioserv config
  * Added state mix according to their weights

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 22 Apr 2011 19:27:41 +0400

elliptics (2.9.6.151) unstable; urgency=low

  * Enable transaction forwarding. Use special saved state for this.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 22 Apr 2011 03:10:42 +0400

elliptics (2.9.6.150) unstable; urgency=low

  * Temporarily disable forwarding
  * Remove transaction from tmp list when completing on timeout

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 22 Apr 2011 01:47:03 +0400

elliptics (2.9.6.149) unstable; urgency=low

  * Write metadata after data in high-level functions
  * Do not remove object if check did not find history

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 21 Apr 2011 21:12:54 +0400

elliptics (2.9.6.148) unstable; urgency=low

  * Write metadata directly from dnet_write_object()

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 21 Apr 2011 20:44:50 +0400

elliptics (2.9.6.147) unstable; urgency=low

  * Remove state when we detect its stall counter reached limit

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 21 Apr 2011 19:48:16 +0400

elliptics (2.9.6.146) unstable; urgency=low

  * Put whole ID into error log when we fail to read object or file
  * Updated metadata writer
  * Added dnet_meta - metdata fetcher
  * Removed fcgi in favour of fastcgi-daemon
  * Open cpp logger in append mode

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 21 Apr 2011 00:56:29 +0400

elliptics (2.9.6.145) unstable; urgency=low

  * dnet_trans_check_stall() could errorneously mark states as stall.
  * Extend ::lookup()/::read() exception debug a bit

 -- Evgeniy Polyakov <zbr@ioremap.net>  Wed, 20 Apr 2011 21:13:43 +0400

elliptics (2.9.6.144) unstable; urgency=low

  * Refactor state logic: join and plain n->st dereference changes
  * Fixed potential invalid pointer dereferences during metadata write

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 19 Apr 2011 23:40:34 +0400

elliptics (2.9.6.143) unstable; urgency=low

  * Added refcnt into dnet_read_data_wait() shared completion structure

 -- Evgeniy Polyakov <zbr@ioremap.net>  Mon, 18 Apr 2011 22:05:12 +0400

elliptics (2.9.6.142) unstable; urgency=low

  * Use default wait timeout of 5 seconds
  * Dropped tests - they are outdated to hell
  * Fixed off-by-one in net_thread_pos selection
  * Added IO/net thread names and start/stop debug for net pool
  * Use DNET_DEFAULT_STALL_TRANSACTIONS instead of hardcoded 10
  * Schedule send and recv event when stall counter reaches
    DNET_DEFAULT_STALL_TRANSACTIONS
  * Reset state when its stall counter >= DNET_DEFAULT_STALL_TRANSACTIONS

 -- Evgeniy Polyakov <zbr@ioremap.net>  Mon, 18 Apr 2011 21:16:17 +0400

elliptics (2.9.6.141) unstable; urgency=low

  * Added state stall counter

 -- Evgeniy Polyakov <zbr@ioremap.net>  Mon, 18 Apr 2011 19:25:57 +0400

elliptics (2.9.6.140) unstable; urgency=low

  * Added pool of network processing threads
  * Added strict lookup checks

 -- Evgeniy Polyakov <zbr@ioremap.net>  Mon, 18 Apr 2011 19:11:52 +0400

elliptics (2.9.6.139) unstable; urgency=low

  * Fixed data forwarding
  * Fixed lookup try/catch and added node constructor with dnet_config lref
  * Added usec timestamp into common C++ logger

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 15 Apr 2011 01:57:07 +0400

elliptics (2.9.6.138) unstable; urgency=low

  * Wait proper timeout when waiting for reverse lookup headers
  * Default wait timeout equals to 20 seconds now

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 15 Apr 2011 00:35:53 +0400

elliptics (2.9.6.137) unstable; urgency=low

  * Added per-transction timeouts (use n->wait_ts actually)

 -- Evgeniy Polyakov <zbr@ioremap.net>  Wed, 13 Apr 2011 21:35:58 +0400

elliptics (2.9.6.136) unstable; urgency=low

  * Use generated ID with proper group_id field when performing data lookup

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 12 Apr 2011 20:13:43 +0400

elliptics (2.9.6.135) unstable; urgency=low

  * Data returned from C code must be freed in binding, std::string will copy
    it instead of reuse
  * Fixed typo when putting wait structure in dnet_read_data_wait()

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 12 Apr 2011 19:53:33 +0400

elliptics (2.9.6.134) unstable; urgency=low

  * Do not double close accepted socket if state creation fails.
  * Propogate read completion back to caller
  * Use dnet_io_req instead of essentially the same dnet_trans_send_ctl
    structure.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 12 Apr 2011 02:44:32 +0400

elliptics (2.9.6.133) unstable; urgency=low

  * Request route table from all added nodes
  * dnet_monitor must request stats from all connected nodes

 -- Evgeniy Polyakov <zbr@ioremap.net>  Mon, 11 Apr 2011 16:44:52 +0400

elliptics (2.9.6.132) unstable; urgency=low

  * Return -ECONNRESET on EPOLLHUP/EPOLLERR

 -- Evgeniy Polyakov <zbr@gavana>  Sun, 10 Apr 2011 03:51:54 +0400

elliptics (2.9.6.131) unstable; urgency=low

  * Do not exit from IO thread handler on non-critical errors.

 -- Evgeniy Polyakov <zbr@gavana>  Sat, 09 Apr 2011 16:32:36 +0400

elliptics (2.9.6.130) unstable; urgency=low

  * Added start/stop IO thread debug

 -- Evgeniy Polyakov <zbr@gavana>  Sat, 09 Apr 2011 16:27:48 +0400

elliptics (2.9.6.129) unstable; urgency=low

  * Do not break epoll loop on interrupts and eagain
  * Dropped counter debug

 -- Evgeniy Polyakov <zbr@gavana>  Sat, 09 Apr 2011 16:14:59 +0400

elliptics (2.9.6.128) unstable; urgency=low

  * Fixed storage_state_list iterator
  * Use 1 IO thread for client and 20 for server by default

 -- Evgeniy Polyakov <zbr@gavana>  Sat, 09 Apr 2011 15:37:37 +0400

elliptics (2.9.6.127) unstable; urgency=low

  * Fixed req processing in multi-thread IO pool

 -- Evgeniy Polyakov <zbr@ioremap.net>  Sat, 09 Apr 2011 15:26:12 +0400

elliptics (2.9.6.126) unstable; urgency=low

  * Merged statistics update
  * Added missed io_thread_num parser
  * Simplified state destruction during node cleanup

 -- Evgeniy Polyakov <zbr@ioremap.net>  Sat, 09 Apr 2011 15:13:02 +0400

elliptics (2.9.6.125) unstable; urgency=low

  * Do not deadlock when unscheduling sending state

 -- Evgeniy Polyakov <zbr@ioremap.net>  Sat, 09 Apr 2011 03:50:05 +0400

elliptics (2.9.6.124) unstable; urgency=low

  * Do not schedule sending of the dying state.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Sat, 09 Apr 2011 03:44:52 +0400

elliptics (2.9.6.123) unstable; urgency=low

  * Update restart counter when really restart checking threads.
  * Save check request structure locally.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Sat, 09 Apr 2011 03:26:55 +0400

elliptics (2.9.6.122) unstable; urgency=low

  * Do not restart checking threads when limit reached.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Sat, 09 Apr 2011 02:58:38 +0400

elliptics (2.9.6.121) unstable; urgency=low

  * Switched to IO thread pool model.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Sat, 09 Apr 2011 02:34:44 +0400

elliptics (2.9.6.120) unstable; urgency=low

  * Fixed fcgi output when upload fails.
  * Added state_num() into c++ binding

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 08 Apr 2011 16:49:39 +0400

elliptics (2.9.6.119) unstable; urgency=low

  * Refactored c++ bindings

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 07 Apr 2011 20:00:31 +0400

elliptics (2.9.6.118) unstable; urgency=low

  * Added remove cpp methods
  * Added lookup cpp methods
  * Fixed bad print of uninitialized groups

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 07 Apr 2011 18:09:37 +0400

elliptics (2.9.6.117) unstable; urgency=low

  * Do not close r->fd if it is >= 0, it must be setup correctly.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 05 Apr 2011 03:18:30 +0400

elliptics (2.9.6.116) unstable; urgency=low

  * Dropped dnet_fcgi_log_write() macros, use proper function instead
  * Do not close file log if syslog was used

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 05 Apr 2011 02:37:35 +0400

elliptics (2.9.6.115) unstable; urgency=low

  * Do not allow double close on fd
  * Do not proceed with failed fcgx structure

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 05 Apr 2011 02:28:05 +0400

elliptics (2.9.6.114) unstable; urgency=low

  * Added options (linger and keepalive) to all created sockets
  * Use shutdown() before closing socket

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 05 Apr 2011 01:53:33 +0400

elliptics (2.9.6.113) unstable; urgency=low

  * Do not try to free sending thread if it was not started.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Mon, 04 Apr 2011 23:57:10 +0400

elliptics (2.9.6.112) unstable; urgency=low

  * Added DNET_FCGI_SYSLOG_PROGRAM option used by fcgi syslog
  *  Do not restart check infinitely, only do it 20 times and then print error
     message.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Mon, 04 Apr 2011 19:28:25 +0400

elliptics (2.9.6.111) unstable; urgency=low

  * Cleanup send queue on state destruction.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Mon, 04 Apr 2011 18:33:35 +0400

elliptics (2.9.6.110) unstable; urgency=low

  * Use async sending model
  * Debug log cleanups
  * Do not connect to the addr which is present in route table
  * Added eblob-from-tar generator
  * Throw std exceptionms rather than int
  * Use 2 seconds for connect timeout

 -- Evgeniy Polyakov <zbr@ioremap.net>  Mon, 04 Apr 2011 18:18:22 +0400

elliptics (2.9.6.109) unstable; urgency=low

  * Use small and repeated timeout in send/sendfile path. Drop st->timeout
  * Check n->need_exit flag in check iterators
  * Added boost::asio deps/configure and (empty) example application which
    will create eblobs locally from tar files.
  * Updated cpp/python bindings
  * Added dnet_lookup_addr() function which fills provided buffer with the
    state address which is supposed to host object with id generated from
    given data
  * Make dnet_node_set_groups() reallocate provided groups and free old ones.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 31 Mar 2011 18:47:42 +0400

elliptics (2.9.6.108) unstable; urgency=low

  * Tune state timeout detection

 -- Evgeniy Polyakov <zbr@ioremap.net>  Mon, 28 Mar 2011 02:15:21 +0400

elliptics (2.9.6.107) unstable; urgency=low

  * forwarding fix
  * initialize error to zero prior reading key from cursor

 -- Evgeniy Polyakov <zbr@gavana>  Fri, 25 Mar 2011 06:03:56 +0300

elliptics (2.9.6.106) unstable; urgency=low

  * Only remove local object if dnet_db_read_raw() returned negative or zero
    error value. Positive is data size.

 -- Evgeniy Polyakov <zbr@gavana>  Fri, 25 Mar 2011 05:03:16 +0300

elliptics (2.9.6.105) unstable; urgency=low

  * Really fixed checker

 -- Evgeniy Polyakov <zbr@gavana>  Fri, 25 Mar 2011 04:41:31 +0300

elliptics (2.9.6.104) unstable; urgency=low

  * Since dnet_state_get_first() now returns NULL for own main state, check
    iterator should take that into account.

 -- Evgeniy Polyakov <zbr@gavana>  Fri, 25 Mar 2011 04:30:40 +0300

elliptics (2.9.6.103) unstable; urgency=low

  * Graceful exit in sigint/sigterm.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 25 Mar 2011 01:57:12 +0300

elliptics (2.9.6.102) unstable; urgency=low

  * Optimize merge of broken objects: if meta is present, but there is no
    history, just delete record.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 24 Mar 2011 19:55:41 +0300

elliptics (2.9.6.101) unstable; urgency=low

  * Do not sync null databases.

 -- Evgeniy Polyakov <zbr@gavana>  Thu, 24 Mar 2011 15:21:28 +0300

elliptics (2.9.6.100) unstable; urgency=low

  * Added explicit database synchronization called from check/reconnect
    thread.
  * Added db_flags to ioserv config. Autosync is turned off by default now!

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 24 Mar 2011 01:55:50 +0300

elliptics (2.9.6.99) unstable; urgency=low

  * Drop invalid goto in need_exit check in dnet_wait()

 -- Evgeniy Polyakov <zbr@ioremap.net>  Wed, 23 Mar 2011 18:42:37 +0300

elliptics (2.9.6.98) unstable; urgency=low

  * Do not allow dnet_state_get_first() to return own state. Dropped unused
    dnet_state_search().
  * Check for need_exit during data send at the very end, so we would not miss
    this event.
  * printf warnings fixed

 -- Evgeniy Polyakov <zbr@ioremap.net>  Wed, 23 Mar 2011 16:51:44 +0300

elliptics (2.9.6.97) unstable; urgency=low

  * Restart check automatically if we checked less than half of the local
    storage.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 22 Mar 2011 23:10:08 +0300

elliptics (2.9.6.96) unstable; urgency=low

  * Only forbid write command during check. Temporal hack.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 22 Mar 2011 22:34:15 +0300

elliptics (2.9.6.95) unstable; urgency=low

  * do not break protocol processing for del/write commands during check.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 22 Mar 2011 22:27:04 +0300

elliptics (2.9.6.94) unstable; urgency=low

  * Temporarily do not allow write and delete commands if check is in
    progress.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 22 Mar 2011 21:08:41 +0300

elliptics (2.9.6.93) unstable; urgency=low

  * Added db cursor logs.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 22 Mar 2011 20:08:44 +0300

elliptics (2.9.6.92) unstable; urgency=low

  * Added log dump of elliptics version and number of changed files in git
    tree.
  * Added attr check in completion callbacks. It can be NULL if it is cmd-only
    reply.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Mon, 21 Mar 2011 19:03:35 +0300

elliptics (2.9.6.91) unstable; urgency=low

  * Added final transaction completion invocation, used in
    dnet_trans_destroy() to specify the last moment this transaction lives.
  * Log debug cleanups

 -- Evgeniy Polyakov <zbr@ioremap.net>  Sat, 19 Mar 2011 01:10:55 +0300

elliptics (2.9.6.90) unstable; urgency=low

  * Hold transaction when sending and inserting it into the state.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 17 Mar 2011 18:42:21 +0300

elliptics (2.9.6.89) unstable; urgency=low

  * Use trans_lock to protect transaction tree instead of send_lock.

 -- Evgeniy Polyakov <zbr@gavana>  Wed, 16 Mar 2011 06:10:42 +0300

elliptics (2.9.6.88) unstable; urgency=low

  * state timeout updates
  * tuned idc destruction

 -- Evgeniy Polyakov <zbr@ioremap.net>  Wed, 16 Mar 2011 01:22:56 +0300

elliptics (2.9.6.87) unstable; urgency=low

  * Create all client state threads in detached state.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 15 Mar 2011 21:10:16 +0300

elliptics (2.9.6.86) unstable; urgency=low

  * Improved some debug output.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 15 Mar 2011 19:53:52 +0300

elliptics (2.9.6.85) unstable; urgency=low

  * Minor dnet_check updates.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 15 Mar 2011 03:51:50 +0300

elliptics (2.9.6.84) unstable; urgency=low

  * Do not write check completion metadata when doing merge check. Returned
    back multi-threaded check.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 15 Mar 2011 03:23:38 +0300

elliptics (2.9.6.83) unstable; urgency=low

  * Force checker to run in single-threading mode.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 15 Mar 2011 03:15:24 +0300

elliptics (2.9.6.82) unstable; urgency=low

  * Added KCOAUTOSYNC database mode.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 15 Mar 2011 02:37:21 +0300

elliptics (2.9.6.81) unstable; urgency=low

  * Uncondtionally remove meta and history objects.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 15 Mar 2011 01:56:48 +0300

elliptics (2.9.6.80) unstable; urgency=low

  * Try to remove meta even if history was not found in the databse.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 15 Mar 2011 01:42:35 +0300

elliptics (2.9.6.79) unstable; urgency=low

  * Added error checks and debug into remove command.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 15 Mar 2011 01:33:17 +0300

elliptics (2.9.6.78) unstable; urgency=low

  * Roll back some testing changes. Fixed state_lock@join deadlock.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 15 Mar 2011 00:28:50 +0300

elliptics (2.9.6.77) unstable; urgency=low

  * Do not wait until state is ready, return error early from dnet_recv()

 -- Evgeniy Polyakov <zbr@ioremap.net>  Sat, 12 Mar 2011 08:50:54 +0300

elliptics (2.9.6.76) unstable; urgency=low

  * Improved reconnection logic.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Sat, 12 Mar 2011 08:38:03 +0300

elliptics (2.9.6.75) unstable; urgency=low

  * Added time counters.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Sat, 12 Mar 2011 08:15:33 +0300

elliptics (2.9.6.74) unstable; urgency=low

  * Do not even try to process route list request.
  * Let fcgi write when it starts request processing.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Sat, 12 Mar 2011 07:19:12 +0300

elliptics (2.9.6.73) unstable; urgency=low

  * Optimized dnet_idc_destroy()
  * Temporarily disable route list reply processing.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Sat, 12 Mar 2011 07:07:25 +0300

elliptics (2.9.6.72) unstable; urgency=low

  * Optimized route list request.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Sat, 12 Mar 2011 06:52:53 +0300

elliptics (2.9.6.71) unstable; urgency=low

  * No need to initialize direct command id.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Sat, 12 Mar 2011 05:54:15 +0300

elliptics (2.9.6.70) unstable; urgency=low

  * Fixed idc creation in the state processing thread.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Sat, 12 Mar 2011 05:46:49 +0300

elliptics (2.9.6.69) unstable; urgency=low

  * Moved idc generation into state's processing function.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Sat, 12 Mar 2011 05:02:40 +0300

elliptics (2.9.6.68) unstable; urgency=low

  * Do not check state address when accepted client does not have ids
    associated.
  * Increase listen backlog to 10k
  * Added nonblocking connect.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Sat, 12 Mar 2011 04:33:54 +0300

elliptics (2.9.6.67) unstable; urgency=low

  * Enable back whole route table download at state add creation.
  * Fixed off-by-one in dnet_idc_destroy() during memmove()

 -- Evgeniy Polyakov <zbr@ioremap.net>  Sat, 12 Mar 2011 03:13:14 +0300

elliptics (2.9.6.66) unstable; urgency=low

  * Do not request route list at startup.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Sat, 12 Mar 2011 02:34:38 +0300

elliptics (2.9.6.65) unstable; urgency=low

  * Major transaction logic rework.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Sat, 12 Mar 2011 02:16:32 +0300

elliptics (2.9.6.64) unstable; urgency=low

  * Abandon POSIX timers for stall transaction/state detection.

 -- Evgeniy Polyakov <zbr@gavana>  Fri, 11 Mar 2011 07:48:50 +0300

elliptics (2.9.6.63) unstable; urgency=low

  * Do not setup timers for empty transactions.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 11 Mar 2011 06:28:24 +0300

elliptics (2.9.6.62) unstable; urgency=low

  * Fixed typo in dnet_trans_timer_setup() during timer creation.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 11 Mar 2011 05:48:41 +0300

elliptics (2.9.6.61) unstable; urgency=low

  * Use state pointer rather than transaction in timer completion callback.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 11 Mar 2011 05:38:59 +0300

elliptics (2.9.6.60) unstable; urgency=low

  * Do not put transaction and state in tranaction' timeout handler.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 11 Mar 2011 04:39:22 +0300

elliptics (2.9.6.59) unstable; urgency=low

  * More idc/group cleanups.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 11 Mar 2011 04:14:53 +0300

elliptics (2.9.6.58) unstable; urgency=low

  * More idc/group fixes.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 11 Mar 2011 03:30:32 +0300

elliptics (2.9.6.57) unstable; urgency=low

  * Fixed off-by-one in dnet_idc_destroy()

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 11 Mar 2011 03:10:47 +0300

elliptics (2.9.6.56) unstable; urgency=low

  * KC memory freeing cleanup

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 11 Mar 2011 02:53:47 +0300

elliptics (2.9.6.55) unstable; urgency=low

  * dnet_check does not require argument for -D option

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 11 Mar 2011 02:25:55 +0300

elliptics (2.9.6.54) unstable; urgency=low

  * Send @size bytes of history, not 0 when doing direct merge upload.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 11 Mar 2011 01:55:48 +0300

elliptics (2.9.6.53) unstable; urgency=low

  * Fixed various loggers initialization
  * Set proper process names via prctl() in dnet_set_name()

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 10 Mar 2011 20:54:31 +0300

elliptics (2.9.6.52) unstable; urgency=low

  * Protect dnet_trans_complete_forward() against NULL state and cmd.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 10 Mar 2011 20:17:02 +0300

elliptics (2.9.6.51) unstable; urgency=low

  * Added dry-run mode for check util.
  * Remove local object if we failed to read its metadata and vice versa.
  * Remove transaction from the tree in dnet_state_clean() before its
    completion callback is invoked.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 10 Mar 2011 18:46:28 +0300

elliptics (2.9.6.50) unstable; urgency=low

  * Stop requesting statistics from check thread. Use transaction completion
    error mechanism to mark states dead.
  * Reset state on timeout errors.
  * Replaced state transaction lock with mutex
  * Added dnet_set_name() to name threads

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 10 Mar 2011 04:35:16 +0300

elliptics (2.9.6.49) unstable; urgency=low

  * Insert transaction into forwarding state and then set its state back to
    original.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 10 Mar 2011 02:08:14 +0300

elliptics (2.9.6.48) unstable; urgency=low

  * Switched to new transaction tracking system based on POSIX timers
  * Command processing log cleanups
  * Added monitor mode

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 10 Mar 2011 01:03:58 +0300

elliptics (2.9.6.47) unstable; urgency=low

  * Do not remove object from storage when we failed to read its local copy.

 -- Evgeniy Polyakov <zbr@gavana>  Wed, 09 Mar 2011 11:29:59 +0300

elliptics (2.9.6.46) unstable; urgency=low

  * Forget to add -i switch into getopt() loop.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Sun, 06 Mar 2011 04:05:24 +0300

elliptics (2.9.6.45) unstable; urgency=low

  * git commit -a -m "Added dnet_ids app to update ids file if underlying
    storage device size was changed. Generates one ID per 100 Gb, older
    elliptics versions used one ID per 1 Gb!"

 -- Evgeniy Polyakov <zbr@ioremap.net>  Sun, 06 Mar 2011 03:40:04 +0300

elliptics (2.9.6.44) unstable; urgency=low

  * Fill raw ID with zeroes before using it for logs.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Sat, 05 Mar 2011 18:52:28 +0300

elliptics (2.9.6.43) unstable; urgency=low

  * Added 0-byte at the end of namespace string to guard it against complex
    object names.

 -- Evgeniy Polyakov <zbr@gavana>  Sat, 05 Mar 2011 14:46:09 +0300

elliptics (2.9.6.42) unstable; urgency=low

  * Use mutex instead of rwlock for state lock. RW lock may lead to starvation
    of new client connections.

 -- Evgeniy Polyakov <zbr@gavana>  Sat, 05 Mar 2011 05:17:24 +0300

elliptics (2.9.6.41) unstable; urgency=low

  * Store namespace information in metadata

 -- Evgeniy Polyakov <zbr@ioremap.net>  Sat, 05 Mar 2011 03:25:17 +0300

elliptics (2.9.6.40) unstable; urgency=low

  * Added namespace support

 -- Evgeniy Polyakov <zbr@ioremap.net>  Sat, 05 Mar 2011 03:02:13 +0300

elliptics (2.9.6.39) unstable; urgency=low

  * Allocate buffer for route table and do not lock states during send.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 04 Mar 2011 19:23:27 +0300

elliptics (2.9.6.38) unstable; urgency=low

  * Do not hold trans_lock while checking the whole tree, grab it only to get
    first entry.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Sun, 27 Feb 2011 20:09:12 +0300

elliptics (2.9.6.37) unstable; urgency=low

  * Return correct number of successfully written objects.
  * Do not return error if failed to write data into some group.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 25 Feb 2011 22:44:32 +0300

elliptics (2.9.6.36) unstable; urgency=low

  * "Dropped wait timeout, it is infinite in FCGI frontend, instead allow to
    tune check timeout, which will fire up stalled transactions.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 25 Feb 2011 21:11:25 +0300

elliptics (2.9.6.35) unstable; urgency=low

  * Added full check support - system will try to read data objects in this
    mode, while in plain check it will only read history logs.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 25 Feb 2011 20:53:54 +0300

elliptics (2.9.6.34) unstable; urgency=low

  * Added temporal copies check debug.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 25 Feb 2011 19:58:29 +0300

elliptics (2.9.6.33) unstable; urgency=low

  * Force dnet_trans_create_send_all() to return total number of send attempts
    which end up with completion callback invocation.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 25 Feb 2011 19:42:52 +0300

elliptics (2.9.6.32) unstable; urgency=low

  * Disable FCGI refcnt debug
  * Invoke completion callback even when error happened.

 -- Evgeniy Polyakov <zbr@gavana>  Thu, 24 Feb 2011 21:16:12 +0300

elliptics (2.9.6.31) unstable; urgency=low

  * Added temporal FCGI refcnt debug.

 -- Evgeniy Polyakov <zbr@gavana>  Thu, 24 Feb 2011 21:05:35 +0300

elliptics (2.9.6.30) unstable; urgency=low

  * Fixed FCGI reference counter leak.

 -- Evgeniy Polyakov <zbr@gavana>  Thu, 24 Feb 2011 20:52:09 +0300

elliptics (2.9.6.29) unstable; urgency=low

  * Added temporal FCGI refcnt debug.

 -- Evgeniy Polyakov <zbr@gavana>  Thu, 24 Feb 2011 20:27:21 +0300

elliptics (2.9.6.28) unstable; urgency=low

  * Additional error check in fcgi refcnt wait.

 -- Evgeniy Polyakov <zbr@gavana>  Thu, 24 Feb 2011 20:09:06 +0300

elliptics (2.9.6.27) unstable; urgency=low

  * Use absolute timeout in fcgi refcnt waiter.

 -- Evgeniy Polyakov <zbr@gavana>  Thu, 24 Feb 2011 20:02:12 +0300

elliptics (2.9.6.26) unstable; urgency=low

  * Implemented 'reference counter' for fcgi connection handler.

 -- Evgeniy Polyakov <zbr@gavana>  Thu, 24 Feb 2011 19:18:32 +0300

elliptics (2.9.6.25) unstable; urgency=low

  * Fixed endless error loop in db iterator.

 -- Evgeniy Polyakov <zbr@gavana>  Thu, 24 Feb 2011 17:32:44 +0300

elliptics (2.9.6.24) unstable; urgency=low

  * Fake dnet_check() for testing.

 -- Evgeniy Polyakov <zbr@gavana>  Thu, 24 Feb 2011 17:21:54 +0300

elliptics (2.9.6.23) unstable; urgency=low

  * Dnet wait misc fixes.

 -- Evgeniy Polyakov <zbr@gavana>  Thu, 24 Feb 2011 17:13:08 +0300

elliptics (2.9.6.22) unstable; urgency=low

  * Fixed dnet_wait leak.
  * Disable object removal if read failed during check.

 -- Evgeniy Polyakov <zbr@gavana>  Thu, 24 Feb 2011 16:30:29 +0300

elliptics (2.9.6.21) unstable; urgency=low

  * Improved check debug.
  * Use newly allocated check request structure when file option is provided.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Mon, 21 Feb 2011 22:33:08 +0300

elliptics (2.9.6.20) unstable; urgency=low

  * Wrap write and delete db operations into transactions.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Mon, 21 Feb 2011 17:41:15 +0300

elliptics (2.9.6.19) unstable; urgency=low

  * Fill check reply structure with zeroes first.
  * Return and show error from stat requests. Read command start time right
    after we got query.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Mon, 21 Feb 2011 15:45:53 +0300

elliptics (2.9.6.18) unstable; urgency=low

  * Use correct multiplier for sec->usec conversation.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 17 Feb 2011 02:25:56 +0300

elliptics (2.9.6.17) unstable; urgency=low

  * Finish fcgi object at the very end after logs.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 17 Feb 2011 02:13:22 +0300

elliptics (2.9.6.16) unstable; urgency=low

  * Return error when unlink failed.
  * Execute completion callback even when no state was found.
  * Do not use locked version when sending pad buffer, since state is already
    locked.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 15 Feb 2011 18:10:47 +0300

elliptics (2.9.6.15) unstable; urgency=low

  * Drop randomization debug in fcgi.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Sat, 12 Feb 2011 02:00:16 +0300

elliptics (2.9.6.14) unstable; urgency=low

  * Added remote groups randomization trick.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Sat, 12 Feb 2011 01:56:01 +0300

elliptics (2.9.6.13) unstable; urgency=low

  * Small log cleanups.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 11 Feb 2011 18:38:29 +0300

elliptics (2.9.6.12) unstable; urgency=low

  * Fixed forbidden query string write. Added iodiff time log.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 11 Feb 2011 18:24:44 +0300

elliptics (2.9.6.11) unstable; urgency=low

  * Implemented check of selected objects from file, not the whole node.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 11 Feb 2011 00:12:05 +0300

elliptics (2.9.6.10) unstable; urgency=low

  * Added FCGI command execution times.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 10 Feb 2011 19:19:10 +0300

elliptics (2.9.6.9) unstable; urgency=low

  * Do not check direct pattern index if we have download-all wildcard
    permission.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 10 Feb 2011 18:25:01 +0300

elliptics (2.9.6.8) unstable; urgency=low

  * Fixed stupid leak in dnet_send_read_data()

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 10 Feb 2011 03:41:23 +0300

elliptics (2.9.6.7) unstable; urgency=low

  * Added syslog support.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 10 Feb 2011 03:34:11 +0300

elliptics (2.9.6.6) unstable; urgency=low

  * Return error when check failed to start

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 08 Feb 2011 21:00:02 +0300

elliptics (2.9.6.5) unstable; urgency=low

  * Do not exit check iteration loop when dnet_check() returns positive value.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 08 Feb 2011 20:34:01 +0300

elliptics (2.9.6.4) unstable; urgency=low

  * Added some randomness into dnet_ids_generate().

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 08 Feb 2011 19:50:16 +0300

elliptics (2.9.6.3) unstable; urgency=low

  * Use dynamically allocated config parser's buffer.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 08 Feb 2011 19:23:19 +0300

elliptics (2.9.6.2) unstable; urgency=low

  * Added db_map/db_buckets config parameters. By default they are set to 10
    millions.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Mon, 07 Feb 2011 18:38:34 +0300

elliptics (2.9.6.1) unstable; urgency=low

  * New release: 2.9.6.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Sun, 06 Feb 2011 04:38:58 +0300

elliptics (2.9.5.41) unstable; urgency=low

  * Added iterative recovery with timestamps.
  * Added configurable number of threads to spawn by checker.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Sun, 06 Feb 2011 04:36:50 +0300

elliptics (2.9.5.40) unstable; urgency=low

  * Fixed only_merge and check_copies binary manipulations.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Sat, 05 Feb 2011 23:45:19 +0300

elliptics (2.9.5.39) unstable; urgency=low

  * Check debug hunk.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Sat, 05 Feb 2011 23:23:44 +0300

elliptics (2.9.5.38) unstable; urgency=low

  * Multi-threaded cursor reading during check.
  * Merge-only check.
  * Return statistics (total, completed and error numbers) data to client during check.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Sat, 05 Feb 2011 22:33:02 +0300

elliptics (2.9.5.37) unstable; urgency=low

  * Do not sleep when requesting stat.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Sat, 05 Feb 2011 01:09:35 +0300

elliptics (2.9.5.36) unstable; urgency=low

  * Log cleanups.
  * Check copies detection changed a bit.
  * Do not request route table when doing stat request in ioclient

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 04 Feb 2011 23:06:39 +0300

elliptics (2.9.5.35) unstable; urgency=low

  * Do not allow multiple checks to run in parallel.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Mon, 31 Jan 2011 22:57:08 +0300

elliptics (2.9.5.34) unstable; urgency=low

  * Do not try to delete remove record if its reading returns -7 (no record
    Kyoto Cabinet error)

 -- Evgeniy Polyakov <zbr@ioremap.net>  Mon, 31 Jan 2011 21:42:30 +0300

elliptics (2.9.5.33) unstable; urgency=low

  * Use negative codes for db errors.
  * Debug log cleanups.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 28 Jan 2011 17:54:00 +0300

elliptics (2.9.5.32) unstable; urgency=low

  * Debug cleanup
  * Exit check if it encountered errors.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 27 Jan 2011 20:48:38 +0300

elliptics (2.9.5.31) unstable; urgency=low

  * Replaced BDB with KyotoCabinet.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Wed, 19 Jan 2011 19:26:39 +0300

elliptics (2.9.5.30) unstable; urgency=low

  * Enable bdb updates back. Added completion log.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 18 Jan 2011 20:19:43 +0300

elliptics (2.9.5.29) unstable; urgency=low

  * Do not try to work with node if reading return network is down.
  * Temporarily disable bdb updates to find out possible bottleneck.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 18 Jan 2011 20:09:41 +0300

elliptics (2.9.5.28) unstable; urgency=low

  * Added temporal lookup addr debug.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 18 Jan 2011 18:42:52 +0300

elliptics (2.9.5.27) unstable; urgency=low

  * Log cleanups.
  * Return error and break out of the cursor reading loop on errors.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 18 Jan 2011 16:48:59 +0300

elliptics (2.9.5.26) unstable; urgency=low

  * Wrap cursor traversal into transaction.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Mon, 17 Jan 2011 22:47:26 +0300

elliptics (2.9.5.25) unstable; urgency=low

  * Remove local file if there is no history. Exit cursor writing loop if
    need_exit was set.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Mon, 17 Jan 2011 21:15:50 +0300

elliptics (2.9.5.24) unstable; urgency=low

  * Fixed erroneous free().

 -- Evgeniy Polyakov <zbr@ioremap.net>  Mon, 17 Jan 2011 20:49:41 +0300

elliptics (2.9.5.23) unstable; urgency=low

  * Return correct state address in lookup response.
  * Do not stop listing processing in non-error cases.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Mon, 17 Jan 2011 20:41:38 +0300

elliptics (2.9.5.22) unstable; urgency=low

  * Switched to pipe and thread pool. Pipe is filled by single thread iterating over cursor.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Sun, 17 Jan 2011 18:45:11 +0300

elliptics (2.9.5.21) unstable; urgency=low

  * Revert back multi-threaded cursor traversal
  * Protect plain db read in dnet_db_read_raw() with transaction.
  * uint64_t -> unsigned long long printf format warning fix

 -- Evgeniy Polyakov <zbr@ioremap.net>  Sun, 16 Jan 2011 17:30:11 +0300

elliptics (2.9.5.20) unstable; urgency=low

  * Added cursor transaction back.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Sat, 15 Jan 2011 02:28:11 +0300

elliptics (2.9.5.19) unstable; urgency=low

  * Revert back check design, where we first copy database into check file and
    then process it in parallel.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Sat, 15 Jan 2011 02:05:39 +0300

elliptics (2.9.5.18) unstable; urgency=low

  * Do not read uncommitted data via listing cursor.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Sat, 15 Jan 2011 01:50:03 +0300

elliptics (2.9.5.17) unstable; urgency=low

  * Do not aciquire transaction for cursor listing.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Sat, 15 Jan 2011 01:31:39 +0300

elliptics (2.9.5.16) unstable; urgency=low

  * Do not stop merge processing if remote node returned DB_NOTFOUND.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Sat, 15 Jan 2011 01:20:06 +0300

elliptics (2.9.5.15) unstable; urgency=low

  * Explicitly del broken entries using cursor transaction.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Sat, 15 Jan 2011 01:11:02 +0300

elliptics (2.9.5.14) unstable; urgency=low

  * Do not bail out of metadata is broken and remove local object instead.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Sat, 15 Jan 2011 00:54:32 +0300

elliptics (2.9.5.13) unstable; urgency=low

  * Create cursor transaction.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Sat, 15 Jan 2011 00:44:01 +0300

elliptics (2.9.5.12) unstable; urgency=low

  * Switched off from separate check file, use locked bdb cursor isntead.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Sat, 15 Jan 2011 00:19:03 +0300

elliptics (2.9.5.11) unstable; urgency=low

  * Cleanup unused history files. Debug cleanup.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 14 Jan 2011 22:17:36 +0300

elliptics (2.9.5.10) unstable; urgency=low

  * Do not use /tmp for check tmp dir, instead use env_dir.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 14 Jan 2011 00:51:48 +0300

elliptics (2.9.5.9) unstable; urgency=low

  * Do not use /tmp for check tmp dir, instead use env->db_data_dir dir.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 14 Jan 2011 00:02:30 +0300

elliptics (2.9.5.8) unstable; urgency=low

  * Do not use /tmp for check tmp dir, instead use database dir.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 13 Jan 2011 23:58:15 +0300

elliptics (2.9.5.7) unstable; urgency=low

  * Do not allow checkpoint if environment is not initialized.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 13 Jan 2011 22:20:08 +0300

elliptics (2.9.5.6) unstable; urgency=low

  * Added automatic checkpointing from checking thread.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 13 Jan 2011 22:01:09 +0300

elliptics (2.9.5.5) unstable; urgency=low

  * Turn off in-memory BDB logging.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 13 Jan 2011 20:38:37 +0300

elliptics (2.9.5.4) unstable; urgency=low

  * Really depend on eblob >= 0.1.0

 -- Evgeniy Polyakov <zbr@ioremap.net>  Wed, 22 Dec 2010 20:18:09 +0300

elliptics (2.9.5.3) unstable; urgency=low

  * Depend on eblob >= 0.1.0

 -- Evgeniy Polyakov <zbr@ioremap.net>  Wed, 22 Dec 2010 20:15:24 +0300

elliptics (2.9.5.2) unstable; urgency=low

  * Implemented multiple read in elliptics core and FCGI frontend.
  * Implemented very user-friendly C++/Python interface.
  * Extended FCGI xml output for POST request: added data crc, size,
    per-group addresses and path to the destination object on file backend.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 09 Dec 2010 20:18:23 +0300

elliptics (2.9.5.1) unstable; urgency=low

  * Documentation update.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 03 Dec 2010 22:17:31 +0300

elliptics (2.9.4.8) unstable; urgency=low

  * Fixed fcgi reading with new groups URI.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 03 Dec 2010 04:02:19 +0300

elliptics (2.9.4.7) unstable; urgency=low

  * Implemented automatic groups selection by free space.
  * Bug fixes.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 03 Dec 2010 03:29:57 +0300

elliptics (2.9.4.6) unstable; urgency=low

  * Fixed eblob_send().
  * Use 50 check threads.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 02 Dec 2010 03:09:47 +0300

elliptics (2.9.4.5) unstable; urgency=low

  * Multi-threaded fsck.
  * Fixes.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 02 Dec 2010 03:01:11 +0300

elliptics (2.9.4.4) unstable; urgency=low

  * Fair number of fixes in fcgi and lib

 -- Evgeniy Polyakov <zbr@ioremap.net>  Wed, 01 Dec 2010 23:54:32 +0300

elliptics (2.9.4.3) unstable; urgency=low

  * Implemented bdb fsck (both merge and copy check).

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 30 Nov 2010 03:04:35 +0300

elliptics (2.9.4.2) unstable; urgency=low

  * Switched to random ids (1024 ids are generated at first start)

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 25 Nov 2010 19:56:41 +0300

elliptics (2.9.4.1) unstable; urgency=low

  * Switched to new addressing model.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 19 Nov 2010 20:50:25 +0300

elliptics (2.9.3.15) unstable; urgency=low

  * Temporarily disable update notifications.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 18 Nov 2010 21:25:23 +0300

elliptics (2.9.3.14) unstable; urgency=low

  * Remove direct object if it can not be uploaded to the storage.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 09 Nov 2010 15:41:30 +0300

elliptics (2.9.3.13) unstable; urgency=low

  * Remove empty/broken history objects during merge.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 09 Nov 2010 15:20:40 +0300

elliptics (2.9.3.12) unstable; urgency=low

  * Added more debug about processed objects in fsck tools.
  * Delete directly read object if its history can not be mapped.
  * Return error from dnet_merge_direct() when merge falls back to direct
    merge during common merge.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 09 Nov 2010 14:46:48 +0300

elliptics (2.9.3.11) unstable; urgency=low

  * Attempt to do direct merge when we can not parse non-direct history stored
    in main storage.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Sat, 06 Nov 2010 18:59:11 +0300

elliptics (2.9.3.10) unstable; urgency=low

  * Fixed bit directory generation in file_backend_get_dir_bits()

 -- Evgeniy Polyakov <zbr@ioremap.net>  Sat, 06 Nov 2010 18:03:00 +0300

elliptics (2.9.3.9) unstable; urgency=low

  * Fixed state leak in lookup processing.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 21 Oct 2010 20:47:59 +0400

elliptics (2.9.3.8) unstable; urgency=low

  * Always use local address for succeeded local lookup.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 21 Oct 2010 20:06:00 +0400

elliptics (2.9.3.7) unstable; urgency=low

  * Kill state when check thread got error.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 21 Oct 2010 18:24:45 +0400

elliptics (2.9.3.6) unstable; urgency=low

  * Extended fire time debug.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 21 Oct 2010 18:09:08 +0400

elliptics (2.9.3.5) unstable; urgency=low

  * Update transaction fire time to include check timeout.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 21 Oct 2010 17:06:13 +0400

elliptics (2.9.3.4) unstable; urgency=low

  * Extend dnet_send_read_data() to get offset from parameters and do not
    abuse dnet_io_attr structure.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Wed, 20 Oct 2010 18:34:25 +0400

elliptics (2.9.3.3) unstable; urgency=low

  * Unmap history after selecting transaction with the last update time in
    dnet_merge_get_latest_transactions()

 -- Evgeniy Polyakov <zbr@ioremap.net>  Wed, 20 Oct 2010 18:06:08 +0400

elliptics (2.9.3.2) unstable; urgency=low

  * Added full object ID dump and request error.
  * Exit merge early if no id file was provided.
  * Do not dereference state in dnet_read_complete() if it is NULL.
  * Added -N (do not request ids and use prevously downloaded) option comment
    into fsck help.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Mon, 18 Oct 2010 19:27:55 +0400

elliptics (2.9.3.1) unstable; urgency=low

  * Extended alloc/free debug.
  * Allow zero-sized writes.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Mon, 18 Oct 2010 13:29:32 +0400

elliptics (2.9.3) unstable; urgency=low

  * New minor release.
    No changes from 2.9.2.32.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Wed, 13 Oct 2010 16:01:23 +0400

elliptics (2.9.2.32) unstable; urgency=low

  * Added configurable value to check header for remote node IP address.
  * Added joining client check: returned address must be reachable to be
    inserted into route table.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Mon, 11 Oct 2010 16:43:56 +0400

elliptics (2.9.2.31) unstable; urgency=low

  * Fixed LA sorting.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 08 Oct 2010 19:18:27 +0400

elliptics (2.9.2.30) unstable; urgency=low

  * Added LA check debug.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 08 Oct 2010 19:14:05 +0400

elliptics (2.9.2.29) unstable; urgency=low

  * Added id-by-LA generation and sorting.
  * Debug cleanups.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Wed, 06 Oct 2010 22:38:39 +0400

elliptics (2.9.2.28) unstable; urgency=low

  * Added timed statistics request which also works as timed connection
    checker.
  * Added seconds-only check time wait.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Wed, 06 Oct 2010 20:51:45 +0400

elliptics (2.9.2.27) unstable; urgency=low

  * Added keep-alive options.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Wed, 06 Oct 2010 16:24:33 +0400

elliptics (2.9.2.26) unstable; urgency=low

  * Do not log error when state is NULL in stat completion callback.
  * Unlink transaction and history after direct merge.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Mon, 04 Oct 2010 18:16:49 +0400

elliptics (2.9.2.25) unstable; urgency=low

  * Added norequest flag to fsck util (will use existing file).
  * Fixed remotes processing typo.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Sat, 02 Oct 2010 20:39:48 +0400

elliptics (2.9.2.24) unstable; urgency=low

  * Do not traverse the whole transaction tree after we found the first one
    which fire time has not yet elapsed.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 30 Sep 2010 18:57:22 +0400

elliptics (2.9.2.23) unstable; urgency=low

  * Remove io_thread_num and max_pending config parameters.
  * Added stack size parameter to check tools.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 30 Sep 2010 17:29:54 +0400

elliptics (2.9.2.22) unstable; urgency=low

  * Moved transaction debug output into the place where it can not dereference
    stale data.
  * Debug cleanups.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Mon, 20 Sep 2010 20:20:31 +0400

elliptics (2.9.2.21) unstable; urgency=low

  * Do not dereference null state in dnet_fcgi_read_complete.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Mon, 20 Sep 2010 18:19:05 +0400

elliptics (2.9.2.20) unstable; urgency=low

  * Added thread stack size parameter.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 17 Sep 2010 22:27:05 +0400

elliptics (2.9.2.19) unstable; urgency=low

  * Added malloc mmap threshold config parameter.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 17 Sep 2010 19:49:35 +0400

elliptics (2.9.2.18) unstable; urgency=low

  * Really really fixed recv state transaction processing leak.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 17 Sep 2010 04:40:10 +0400

elliptics (2.9.2.17) unstable; urgency=low

  * Really fixed recv state transaction processing leak.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 17 Sep 2010 04:28:32 +0400

elliptics (2.9.2.16) unstable; urgency=low

  * Do not try to dereferece null state. Happens when transaction is completed
    on timeout.
  * Use lineary (+60 seconds each turn) growing reconnection timeout. Added
    reconnection limit of 1 day.
  * Fixed recv state transaction processing leak.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 17 Sep 2010 04:04:30 +0400

elliptics (2.9.2.15) unstable; urgency=low

  * Compilation typo fixed.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 17 Sep 2010 00:15:18 +0400

elliptics (2.9.2.14) unstable; urgency=low

  * Fill all allocated memory with zeroes.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 17 Sep 2010 00:08:18 +0400

elliptics (2.9.2.13) unstable; urgency=low

  * Put transaction after it was executed. Its refcnt was increased during
    search call.
  * Do not try to dereference state when it can be null.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 16 Sep 2010 20:55:09 +0400

elliptics (2.9.2.12) unstable; urgency=low

  * Do not create unneded listening state when node does not join network.
  * Reset accept state on error.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 07 Sep 2010 23:24:12 +0400

elliptics (2.9.2.11) unstable; urgency=low

  * Do not join to states in state lists, since they can be freed in own
    threads.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 07 Sep 2010 22:48:26 +0400

elliptics (2.9.2.10) unstable; urgency=low

  * Drop transaction resending support.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 07 Sep 2010 22:21:21 +0400

elliptics (2.9.2.9) unstable; urgency=low

  * Extended local command processing log.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 07 Sep 2010 18:04:09 +0400

elliptics (2.9.2.8) unstable; urgency=low

  * Also print pid in common logger.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 07 Sep 2010 17:37:59 +0400

elliptics (2.9.2.7) unstable; urgency=low

  * Use pthread_self() instead of getpid() to get uniq thread id.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 07 Sep 2010 17:33:59 +0400

elliptics (2.9.2.6) unstable; urgency=low

  * If DNET_IO_FLAGS_NO_HISTORY_UPDATE flag was set for read command, do not
    send data reply. Used in local stat command.
  * Debug cleanup.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 07 Sep 2010 04:17:45 +0400

elliptics (2.9.2.5) unstable; urgency=low

  * Do not deal with NULL transactions.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 07 Sep 2010 03:51:20 +0400

elliptics (2.9.2.4) unstable; urgency=low

  * Extended debug.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 07 Sep 2010 03:24:04 +0400

elliptics (2.9.2.3) unstable; urgency=low

  * Start state IO thread after state initialization.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 07 Sep 2010 02:44:45 +0400

elliptics (2.9.2.2) unstable; urgency=low

  * Join to io state thread instead of freeing it directly.
  * Do not exit from accept loop on error.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 07 Sep 2010 02:31:23 +0400

elliptics (2.9.2.1) unstable; urgency=low

  * Initialize state list entry prior other usage.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 07 Sep 2010 01:59:48 +0400

elliptics (2.9.2) unstable; urgency=low

  * Switched from libevent state machine to thread-per-client model.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 07 Sep 2010 01:38:31 +0400

elliptics (2.9.1.3) unstable; urgency=low

  * Added timeout to wait for transction completion.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 02 Sep 2010 18:37:43 +0400

elliptics (2.9.1.2) unstable; urgency=low

  * Added special URI parameter for atomic appends (where supported by
    backend). Added ioflags to common write operations.
  * Dropped TokyoCabinet IO backend support.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 17 Aug 2010 20:36:09 +0400

elliptics (2.9.1.1) unstable; urgency=low

  * Added DNET_FCGI_PUT_REGION config option to optionally enable region tag
  * Added wildcard direct download pattern (*)
  * Force direct download patterns to be checked against ID ending and
    just by having this substring somewhere in the query.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 13 Aug 2010 16:05:12 +0400

elliptics (2.9.1) unstable; urgency=low

  * New elliptics network release: 2.9.1

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 10 Aug 2010 23:06:25 +0400

elliptics (2.9.0.31) unstable; urgency=low

  * Logger cleanups.
  * Fixed resend locking bug.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 10 Aug 2010 15:43:37 +0400

elliptics (2.9.0.30) unstable; urgency=low

  * Fixed lock/unlock typo in dnet_data_ready().

 -- Evgeniy Polyakov <zbr@ioremap.net>  Mon, 09 Aug 2010 19:00:56 +0400

elliptics (2.9.0.29) unstable; urgency=low

  * Refactor fcgi logging.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Sat, 07 Aug 2010 00:52:37 +0400

elliptics (2.9.0.28) unstable; urgency=low

  * Return read error when key was not found. Use right config file options.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Sat, 07 Aug 2010 00:16:25 +0400

elliptics (2.9.0.27) unstable; urgency=low

  * Added sanity checks for embedded reading.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 06 Aug 2010 22:01:20 +0400

elliptics (2.9.0.26) unstable; urgency=low

  * Disabled per-client statistics request in fcgi daemon.
  * Added subtle timeout and data rewrite when FCGX_PutStr() returns error.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 06 Aug 2010 19:51:48 +0400

elliptics (2.9.0.25) unstable; urgency=low

  * Copy resolved address into buffer (later used for reconnection) before
    trying to connect.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 05 Aug 2010 21:12:57 +0400

elliptics (2.9.0.24) unstable; urgency=low

  * Refactor fcgi/check loggers to write pid/thread id into single log file.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 05 Aug 2010 20:13:50 +0400

elliptics (2.9.0.23) unstable; urgency=low

  * Added <region> tag into download-info XML output
  * Shanged sending locking.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 05 Aug 2010 18:50:56 +0400

elliptics (2.9.0.22) unstable; urgency=low

  * Guard multiple 'logical' xml writes against parallel write

 -- Evgeniy Polyakov <zbr@ioremap.net>  Wed, 04 Aug 2010 22:05:46 +0400

elliptics (2.9.0.21) unstable; urgency=low

  * Implemented direct transaction merge.
  * If reading size was set to 0 map ~0ULL size, i.e. the whole file.
  * Remove object from the storage if its history log says so.
  * Drop unused DNET_FCGI_EMBED_TIMESTAMP_PATTERN and change to use
    DNET_FCGI_EMBED_PATTERN option.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Wed, 04 Aug 2010 21:23:10 +0400

elliptics (2.9.0.20) unstable; urgency=low

  * Fixed several fd leaks.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Wed, 28 Jul 2010 21:51:29 +0400

elliptics (2.9.0.19) unstable; urgency=low

  * Unmap history file when failed to read transaction.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Wed, 28 Jul 2010 20:37:21 +0400

elliptics (2.9.0.18) unstable; urgency=low

  * Guard OpenSSL_add_all_digests() and initialize it only once per thread
    group.
  * Force dnet_check_process_request() to wait for all sent transactions, do
    not wakeup after receiving reply from the first one.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Wed, 28 Jul 2010 18:42:44 +0400

elliptics (2.9.0.17) unstable; urgency=low

  * Fixed compilation warnings on 64bit platform (uint64_t to unsigned long
    long and void * to unsigned long)
  * Try only requested transformation function, do not continue with the next
    one.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Wed, 28 Jul 2010 17:40:46 +0400

elliptics (2.9.0.16) unstable; urgency=low

  * Use errno to differentiate reconnection state.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Wed, 28 Jul 2010 16:36:58 +0400

elliptics (2.9.0.15) unstable; urgency=low

  * Made elliptics depend on eblob

 -- Evgeniy Polyakov <zbr@ioremap.net>  Wed, 28 Jul 2010 14:40:34 +0400

elliptics (2.9.0.14) unstable; urgency=low

  * Updated checker's logger.
  * Increase example/check/common.c waiting timeout.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 27 Jul 2010 21:25:04 +0400

elliptics (2.9.0.13) unstable; urgency=low

  * Added logs into file io backend listing processor.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 27 Jul 2010 21:00:45 +0400

elliptics (2.9.0.12) unstable; urgency=low

  * Let check applications to sleep longer waiting for replies.
  * Reduce number of ids sent via DNET_CMD_LIST command to 1024 per reply.
  * Mark states added via dnet_add_state() as reconnect-friendly.
  * Do not add reconnection addresses which do not have joining flags.
  * Updated to the latest eblob lib (moved blob code outside to libeblob).
  * Reschedule transaction's fire time when (non-last) reply is received.
  * Do not mess with dnet_fcgi_random_hashes outside of fcgi.c

 -- Evgeniy Polyakov <zbr@ioremap.net>  Mon, 26 Jul 2010 23:26:14 +0400

elliptics (2.9.0.11) unstable; urgency=low

  * Added embedded URI parameter, which will force timestamp to be embedded
    with data. It is possible to embed other parameters too.

    post: wget -O /tmp/1111 -S --post-file=elliptics.spec
    "http://devfs1/test.mp3?name=qwerty.xml&embed&timestamp=123"

    get: wget -O /tmp/1111 -S --header="If-Modified-Since: Thu, 01 Jan 1970
    00:02:00 GMT"  "http://devfs1/test.mp3?name=qwerty.xml&embed&direct=1"
  * fixed random hash selection in fcgi frontend.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Sun, 25 Jul 2010 20:09:20 +0400

elliptics (2.9.0.10) unstable; urgency=low

  * return back addressing magic^W logic in dnet_write_object_raw()

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 23 Jul 2010 12:04:11 +0400

elliptics (2.9.0.9) unstable; urgency=low

  * Return back virtual datacenters.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 22 Jul 2010 22:17:08 +0400

elliptics (2.9.0.8) unstable; urgency=low

  * BLOB IO backend updates (multiple threads, index, bug fixes).
  * file IO backend fixes
  * python bindings
  * c++ binding fixes

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 22 Jul 2010 18:11:17 +0400

elliptics (2.9.0.7) unstable; urgency=low

  * Log cleanups.
  * Extended ioclient's stat parameters.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 16 Jul 2010 20:08:05 +0400

elliptics (2.9.0.6) unstable; urgency=low

  * Added c++ interface.
  * Added fsck flag which allows to reupload existing copies.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 16 Jul 2010 18:17:06 +0400

elliptics (2.9.0.5) unstable; urgency=low

  * Added data/history indexes.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 15 Jul 2010 00:20:50 +0400

elliptics (2.9.0.4) unstable; urgency=low

  * Allow dnet_ioclient to request stats.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 06 Jul 2010 21:57:54 +0400

elliptics (2.9.0.3) unstable; urgency=low

  * Do not iterate over empty file.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 06 Jul 2010 21:37:50 +0400

elliptics (2.9.0.2) unstable; urgency=low

  * Initial POSIX fadvice hints.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 06 Jul 2010 18:22:11 +0400

elliptics (2.9.0.1) unstable; urgency=low

  * Added BLOB IO backend. Without abilities to remove objects though.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 06 Jul 2010 04:58:44 +0400

elliptics (2.9.0) unstable; urgency=low

  * switched ioserv from command line to config
  * created ioclient which does command line IO operations

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 01 Jul 2010 22:22:26 +0400

elliptics (2.8.1) unstable; urgency=low

  * Autoconf update to rollout new release, which contains previous fixes.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 22 Jun 2010 02:06:16 +0400

elliptics (2.8.0.2) unstable; urgency=low

  * Debug cleanups.
  * Fsck utils fixes.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 03 Jun 2010 18:59:45 +0400

elliptics (2.8.0.1) unstable; urgency=low

  * Debug extensions in fsck and meta processing.
  * Fixed fsck log file closing bug.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 03 Jun 2010 00:59:05 +0400

elliptics (2.8.0) unstable; urgency=low

  * Switched to new optimized history format, which contains metadata.
    History becomes just another metadata object with parent name
    and list of transformation functions.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Sat, 29 May 2010 20:46:43 +0400

elliptics (2.7.5.3) unstable; urgency=low

  * Added extended per-client per-cmd statistics.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 18 May 2010 16:41:56 +0400

elliptics (2.7.5.2) unstable; urgency=low

  * Extend fcgi debug logging.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Wed, 12 May 2010 03:40:39 +0400

elliptics (2.7.5.1) unstable; urgency=low

  * Added timestamp URI parameter support in fcgi frontend (timestamp=).

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 11 May 2010 21:02:03 +0400

elliptics (2.7.5) unstable; urgency=low

  * Make simple stat request to check only number of connected nodes without
    check them.
  * Added check applications README.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 11 May 2010 20:15:50 +0400

elliptics (2.7.4.2) unstable; urgency=low

  * Drop DNET_HISTORY_FLAGS and use DNET_IO_FLAGS instead.
  * Extend hparser to show 'removed' flag.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 11 May 2010 17:49:44 +0400

elliptics (2.7.4.1) unstable; urgency=low

  * history parser extension.
  * ID conversion fixes.
  * move version information to ID end

 -- Evgeniy Polyakov <zbr@ioremap.net>  Mon, 10 May 2010 18:40:16 +0400

elliptics (2.7.4) unstable; urgency=low

  * Added automatic recovery support.
  * Fair number of changes.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Mon, 10 May 2010 05:03:39 +0400

elliptics (2.7.3.4) unstable; urgency=low

  * Added if-modified-since header processing.
  * Relax libevent build dependency

 -- Evgeniy Polyakov <zbr@ioremap.net>  Wed, 28 Apr 2010 18:14:16 +0400

elliptics (2.7.3.3) unstable; urgency=low

  * History merge support.
  * Do not unlink files, instead put a special transaction into related
    history log.
  * Added version support in HTTP frontend.
  * Added Last-Modified header support in HTTP frontend.
  * Added upload connections limit, which does not allow to post data when
    number of nodes proxy is connected to is less than configured param.
  * API extensions.
  * Bug fixes.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 23 Apr 2010 03:23:49 +0400

elliptics (2.7.3.2) unstable; urgency=low

  * Debian version update after multiple fixes: 2.7.3.2

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 25 Mar 2010 23:35:09 +0300

elliptics (2.7.3.1) unstable; urgency=low

  * Added random hash selection itno fastcgi daemon.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 19 Mar 2010 19:47:45 +0300

elliptics (2.7.3) unstable; urgency=low

  * Turn on dh_makeshlibs debian rule.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Wed, 17 Mar 2010 20:59:14 +0300

elliptics (2.7.2) unstable; urgency=low

  * Depend on libevent 1.4 and higher.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Wed, 17 Mar 2010 19:12:55 +0300

elliptics (2.7.1) unstable; urgency=low

  * Minor compilation issues fixed.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Wed, 17 Mar 2010 17:28:08 +0300

elliptics (2.7.0) unstable; urgency=low

  * Major version update: 2.7.0

 -- Evgeniy Polyakov <zbr@ioremap.net>  Wed, 17 Mar 2010 16:41:29 +0300

elliptics (2.6.4.8) unstable; urgency=low

  * Return 404 POST status when number of upload errors is more than
    configured number (0 by default).

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 05 Mar 2010 20:05:14 +0300

elliptics (2.6.4.7) unstable; urgency=low

  * Initialize transaction number to zero prior starting write.
  * Remove unneded hash checks

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 19 Feb 2010 22:03:56 +0300

elliptics (2.6.4.6) unstable; urgency=low

  * Do not compare checker's hash strings, initialize hashes again,
    since we already dropped them all.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 19 Feb 2010 21:31:48 +0300

elliptics (2.6.4.5) unstable; urgency=low

  * Request remote route table when node adds remote address.

 -- Evgeniy Polyakov <zbr@gavana>  Fri, 19 Feb 2010 19:50:03 +0300

elliptics (2.6.4.4) unstable; urgency=low

  * Fixed multiple log lines processing in checker.

 -- Evgeniy Polyakov <zbr@gavana>  Fri, 19 Feb 2010 17:38:50 +0300

elliptics (2.6.4.3) unstable; urgency=low

  * Minor cleanups.

 -- Evgeniy Polyakov <zbr@gavana>  Thu, 18 Feb 2010 00:58:54 +0300

elliptics (2.6.4.2) unstable; urgency=low

  * Implemented full fsck checker.

 -- Evgeniy Polyakov <zbr@gavana>  Thu, 18 Feb 2010 00:20:08 +0300

elliptics (2.6.4.1) unstable; urgency=low

  * Update dnet_fcgi_timeout_sec from DNET_FCGI_NODE_WAIT_TIMEOUT config
    option.
  * Added fcgi request completion flag. When it is not set, fcgi request
    can not be used, usually because it was already closed. This is a
    weak protection since data from one request can be sent to another
    client, but it will only happen when we exit early on timeout, which
    should be noticed in logs, and timeouts changed appropriately.

 -- Evgeniy Polyakov <zbr@gavana>  Wed, 17 Feb 2010 17:40:17 +0300

elliptics (2.6.4) unstable; urgency=low

  * Version 2.6.4

 -- Evgeniy Polyakov <zbr@gavana>  Sun, 14 Feb 2010 19:54:47 +0300

elliptics (2.6.3-42) unstable; urgency=low

  * Made wakeup a macros which accepts code executed atomically under
    wait lock. This fixes race in statistics request when multiple
    thread update completion counter.

 -- Evgeniy Polyakov <zbr@gavana>  Sat, 13 Feb 2010 18:58:35 +0300

elliptics (2.6.3-41) unstable; urgency=low

  * Added dbg package option.

 -- Evgeniy Polyakov <zbr@gavana>  Thu, 11 Feb 2010 18:41:14 +0300

elliptics (2.6.3-40) unstable; urgency=low

  * Added timeouts into FCGI waits

 -- Evgeniy Polyakov <zbr@gavana>  Thu, 11 Feb 2010 14:54:54 +0300

elliptics (2.6.3-39) unstable; urgency=low

  * Check if state was already added when reconnection establishes
    connection, but can not create state.

 -- Evgeniy Polyakov <zbr@gavana>  Thu, 11 Feb 2010 14:28:04 +0300

elliptics (2.6.3-38) unstable; urgency=low

  * Implemented ability to dump address or ID into provided buffer, use
    it in race-critical places in fcgi. Core code will suffer from
    simultaneous addres/id conversions though, but it is not used in
    critical parts.

 -- Evgeniy Polyakov <zbr@gavana>  Tue, 09 Feb 2010 20:48:13 +0300

elliptics (2.6.3-37) unstable; urgency=low

  * Perform vsnprintf() parsing unside locked section to protect
    dnet_fcgi_tmp_buf content.

 -- Evgeniy Polyakov <zbr@gavana>  Tue, 09 Feb 2010 18:39:32 +0300

elliptics (2.6.3-36) unstable; urgency=low

  * Fixed off-by-one cookie truncation.

 -- Evgeniy Polyakov <zbr@gavana>  Tue, 09 Feb 2010 16:45:43 +0300

elliptics (2.6.3-35) unstable; urgency=low

  * Added permanent headers, which are added on every request.

 -- Evgeniy Polyakov <zbr@gavana>  Tue, 09 Feb 2010 00:29:54 +0300

elliptics (2.6.3-34) unstable; urgency=low

  * Added client reconnection logic.

 -- Evgeniy Polyakov <zbr@gavana>  Mon, 08 Feb 2010 21:45:49 +0300

elliptics (2.6.3-33) unstable; urgency=low

  * Fixed fcgi module to properly use dnet_fcgi_output() printing helper

 -- Evgeniy Polyakov <zbr@gavana>  Sat, 06 Feb 2010 02:47:00 +0300

elliptics (2.6.3-32) unstable; urgency=low

  * Debian changelog update

 -- Evgeniy Polyakov <zbr@gavana>  Fri, 05 Feb 2010 05:41:16 +0300

elliptics (2.6.3-31) unstable; urgency=low

  * Fixed printf warning

 -- Evgeniy Polyakov <zbr@gavana>  Fri, 05 Feb 2010 05:40:29 +0300

elliptics (2.6.3-30) unstable; urgency=low

  * Greatly simplified network/reconnection logic.

 -- Evgeniy Polyakov <zbr@gavana>  Fri, 05 Feb 2010 04:33:09 +0300

elliptics (2.6.3-27) unstable; urgency=low

  * Force dnet_fcgi_output() to return 0 when nothing was printed out.

 -- Evgeniy Polyakov <zbr@gavana>  Fri, 05 Feb 2010 01:46:05 +0300

elliptics (2.6.3-26) unstable; urgency=low

  * Debian changelog update.

 -- Evgeniy Polyakov <zbr@gavana>  Thu, 04 Feb 2010 21:16:09 +0300

elliptics (2.6.3-25) unstable; urgency=low

  * Use text/plain instead of text/html for error messages.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 04 Feb 2010 20:13:57 +0300

elliptics (2.6.3-24) unstable; urgency=low

  * Added support for configurable content types.  Config should enable
    following option (lighttpd example): "DNET_FCGI_CONTENT_TYPES" =>
    "xml,text/xml jpg,image/jpeg txt,text/plain"  When ID contains first
    part of comma-separated string, it will set content type to be equal
    to the second part. Only works for direct download, i.e. through
    proxy. Changed default error codes: when lookup/read returns -ENOENT
    (no object) status will be set to 404 and otherwise to 403. Added
    Cache-control: no-cache where needed. # Please enter the commit
    message for your changes. Lines starting # with '#' will be ignored,
    and an empty message aborts the commit. # Explicit paths specified
    without -i nor -o; assuming --only paths... # On branch master #
    Changes to be committed: #   (use "git reset HEAD <file>..." to
    unstage) # # modified:   example/fcgi/fcgi.c # modified:
    example/fcgi/lighttpd-fastcgi-dnet.conf # # Changed but not updated:
    #   (use "git add <file>..." to update what will be committed) #
    (use "git checkout -- <file>..." to discard changes in working
    directory) # # modified:   debian/changelog # # Untracked files: #
    (use "git add <file>..." to include in what will be committed) # #
    build-stamp # debian/dirs # debian/files #
    example/check/dnet_check_log # example/dnet_check_log #
    example/fcgi/dnet_fcgi # example/fcgi/fcgi.c.orig # generated.log

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 04 Feb 2010 20:13:23 +0300

elliptics (2.6.3-23) unstable; urgency=low

  * Added object meta iformation dump into hparser util.  It prints
    total size and parent object id in the last line. # Please enter the
    commit message for your changes. Lines starting # with '#' will be
    ignored, and an empty message aborts the commit. # Explicit paths
    specified without -i nor -o; assuming --only paths... # On branch
    master # Changes to be committed: #   (use "git reset HEAD
    <file>..." to unstage) # # modified:   example/hparser.c # # Changed
    but not updated: #   (use "git add <file>..." to update what will be
    committed) #   (use "git checkout -- <file>..." to discard changes
    in working directory) # # modified:   debian/changelog # # Untracked
    files: #   (use "git add <file>..." to include in what will be
    committed) # # build-stamp # debian/dirs # debian/files #
    example/check/dnet_check_log # example/dnet_check_log #
    example/fcgi/dnet_fcgi # example/fcgi/fcgi.c.orig # generated.log

 -- Evgeniy Polyakov <zbr@ioremap.net>  Wed, 03 Feb 2010 00:52:09 +0300

elliptics (2.6.3-22) unstable; urgency=low

  * Imporoved log checker.  Added ability to properly upload new files
    when old ones did not exist as file itself, but only as transaction
    log. # Please enter the commit message for your changes. Lines
    starting # with '#' will be ignored, and an empty message aborts the
    commit. # Explicit paths specified without -i nor -o; assuming --
    only paths... # On branch master # Changes to be committed: #   (use
    "git reset HEAD <file>..." to unstage) # # modified:
    example/check/log.c # # Changed but not updated: #   (use "git add
    <file>..." to update what will be committed) #   (use "git checkout
    -- <file>..." to discard changes in working directory) # # modified:
    debian/changelog # # Untracked files: #   (use "git add <file>..."
    to include in what will be committed) # # build-stamp # debian/dirs
    # debian/files # example/check/dnet_check_log #
    example/dnet_check_log # example/fcgi/dnet_fcgi #
    example/fcgi/fcgi.c.orig # generated.log

 -- Evgeniy Polyakov <zbr@ioremap.net>  Wed, 03 Feb 2010 00:40:15 +0300

elliptics (2.6.3-21) unstable; urgency=low

  * Allow all kinds of files to be checked (both transaction logs and
    plain data files like written by fcgi proxy)

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 02 Feb 2010 22:22:47 +0300

elliptics (2.6.3-20) unstable; urgency=low

  * Use private mutex-protected helper function to workaround libfcgi
    64bit and concurency issues.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 02 Feb 2010 20:33:01 +0300

elliptics (2.6.3-19) unstable; urgency=low

  * Always perform 'physical' lookup and do not read history files (read
    data one).

 -- Evgeniy Polyakov <zbr@ioremap.net>  Mon, 01 Feb 2010 19:42:21 +0300

elliptics (2.6.3-18) unstable; urgency=low

  * Implemented reply to POST method - fcgi daemon returns XML with IDs
    generated for given object.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Mon, 01 Feb 2010 17:46:59 +0300

elliptics (2.6.3-17) unstable; urgency=low

  * Initial fsck implementation. Supports number of copies check
    currently.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Sun, 31 Jan 2010 22:33:25 +0300

elliptics (2.6.3-16) unstable; urgency=low

  * Return NULL from watchdog thread to shut up compiler

 -- Evgeniy Polyakov <zbr@ioremap.net>  Sat, 30 Jan 2010 01:46:27 +0300

elliptics (2.6.3-15) unstable; urgency=low

  * Added second line break on error path and worked around libfcgi bug,
    when it does not understand %ll. printf format and resets the
    stream.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 28 Jan 2010 16:56:21 +0300

elliptics (2.6.3-14) unstable; urgency=low

  * Debian changelog update

 -- Evgeniy Polyakov <zbr@ioremap.net>  Wed, 27 Jan 2010 18:59:40 +0300

elliptics (2.6.3-13) unstable; urgency=low

  * Return before entering error path on success.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Wed, 27 Jan 2010 18:59:26 +0300

elliptics (2.6.3-12) unstable; urgency=low

  * Debian changelog update

 -- Evgeniy Polyakov <zbr@ioremap.net>  Wed, 27 Jan 2010 02:27:11 +0300

elliptics (2.6.3-11) unstable; urgency=low

  * Use 64bit mask in fcgi proxy.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Wed, 27 Jan 2010 02:26:56 +0300

elliptics (2.6.3-10) unstable; urgency=low

  * Debian changelog update

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 26 Jan 2010 22:56:20 +0300

elliptics (2.6.3-9) unstable; urgency=low

  * Print 6 bytes of ID by default.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 26 Jan 2010 22:33:34 +0300

elliptics (2.6.3-8) unstable; urgency=low

  * Use 64 bit mask in filesystem backend.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 26 Jan 2010 22:32:25 +0300

elliptics (2.6.3-7) unstable; urgency=low

  * Changed error returt status, added strerror() output and content
    type.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Wed, 20 Jan 2010 01:06:51 +0300

elliptics (2.6.3-6) unstable; urgency=low

  * Do not try non-direct download if unsupported type was requested.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Wed, 20 Jan 2010 00:05:57 +0300

elliptics (2.6.3-5) unstable; urgency=low

  * Debian changelog update

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 19 Jan 2010 20:25:00 +0300

elliptics (2.6.3-4) unstable; urgency=low

  * Fixed cookie/sign generation algo according to documentation.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 19 Jan 2010 20:22:27 +0300

elliptics (2.6.3-3) unstable; urgency=low

  * Shut down some noisy information prints

 -- Evgeniy Polyakov <zbr@ioremap.net>  Sun, 20 Dec 2009 00:47:00 +0300

elliptics (2.6.3-2) unstable; urgency=low

  * Added cleanup debug message into dnet_cleanup_transform()

 -- Evgeniy Polyakov <zbr@ioremap.net>  Sat, 19 Dec 2009 22:19:53 +0300

elliptics (2.6.3-1) unstable; urgency=low

  * Added transformation cleanup into node destruction path.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Sat, 19 Dec 2009 22:07:30 +0300

elliptics (2.6.3) unstable; urgency=low

  * 2.6.3 release

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 17 Dec 2009 21:56:35 +0300

elliptics (2.6.2-7) unstable; urgency=low

  * New elliptics network release: 2.6.3

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 17 Dec 2009 21:55:52 +0300

elliptics (2.6.2-6) unstable; urgency=low

  * "Added fastcgi README into distribution"

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 17 Dec 2009 21:55:11 +0300

elliptics (2.6.2-5) unstable; urgency=low

  * Changed cookie generation algorithm, fixed direct URI generatation
    for IO storage backend.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 15 Dec 2009 17:12:01 +0300

elliptics (2.6.2-4-1) unstable; urgency=low

  * Extended file IO backend - put :f into getopt.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Mon, 14 Dec 2009 20:41:00 +0300

elliptics (2.6.2-4) unstable; urgency=low

  * Extended file IO backend.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Mon, 14 Dec 2009 19:10:40 +0300

elliptics (2.6.2-3) unstable; urgency=low

  * Dynamic per-address transformation function selection.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Wed, 09 Dec 2009 19:28:04 +0300

elliptics (2.6.2-2) unstable; urgency=low

  * Virtual datacenters.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Sat, 05 Dec 2009 05:58:24 +0300

elliptics (2.6.2-1) unstable; urgency=low

  * Version increment: features and bug fixes.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 04 Dec 2009 16:08:41 +0300

elliptics (2.6.2) unstable; urgency=low

  * Added FastCGI daemon
  * Extended lookup to check whether requested object is stored locally
  * Added lighttpd fastcgi config
  * Bug fixes

 -- Evgeniy Polyakov <zbr@ioremap.net>  Wed, 18 Nov 2009 19:47:25 +0300

elliptics (2.6.1-1) unstable; urgency=low

  * Initial release (Closes: #nnnn)  <nnnn is the bug number of your ITP>

 -- Evgeniy Polyakov <zbr@ioremap.net>  Wed, 18 Nov 2009 16:14:14 +0300
